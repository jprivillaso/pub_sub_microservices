!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t){e.exports=require("util")},function(e,t,r){e.exports=s;var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},i=r(5);i.inherits=r(6);var o=r(36),a=r(38);function s(e){if(!(this instanceof s))return new s(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}i.inherits(s,o),function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(n(a.prototype),function(e){s.prototype[e]||(s.prototype[e]=a.prototype[e])})},function(e,t,r){"use strict";var n=r(3),i=r(0).format,o=(r(0).inherits,r(12).HEARTBEAT);e.exports.closeMessage=function(e){var t=e.fields.replyCode;return i('%d (%s) with message "%s"',t,n.constant_strs[t],e.fields.replyText)},e.exports.methodName=function(e){return n.info(e).name},e.exports.inspect=function(e,t){if(e===o)return"<Heartbeat>";if(e.id){var r=n.info(e.id);return i("<%s channel:%d%s>",r.name,e.channel,t?" "+JSON.stringify(e.fields,void 0,2):"")}return i("<Content channel:%d size:%d>",e.channel,e.size)}},function(e,t,r){"use strict";
/** @preserve This file is generated by the script
 * ../bin/generate-defs.js, which is not in general included in a
 * distribution, but is available in the source repository e.g. at
 * https://github.com/squaremo/amqp.node/
 */var n=r(4).Buffer,i=r(32),o=r(11),a=i.encodeTable,s=i.decodeFields,u=n.alloc(16384);Object.freeze({});e.exports.constants={FRAME_METHOD:1,FRAME_HEADER:2,FRAME_BODY:3,FRAME_HEARTBEAT:8,FRAME_MIN_SIZE:4096,FRAME_END:206,REPLY_SUCCESS:200,CONTENT_TOO_LARGE:311,NO_ROUTE:312,NO_CONSUMERS:313,ACCESS_REFUSED:403,NOT_FOUND:404,RESOURCE_LOCKED:405,PRECONDITION_FAILED:406,CONNECTION_FORCED:320,INVALID_PATH:402,FRAME_ERROR:501,SYNTAX_ERROR:502,COMMAND_INVALID:503,CHANNEL_ERROR:504,UNEXPECTED_FRAME:505,RESOURCE_ERROR:506,NOT_ALLOWED:530,NOT_IMPLEMENTED:540,INTERNAL_ERROR:541},e.exports.constant_strs={1:"FRAME-METHOD",2:"FRAME-HEADER",3:"FRAME-BODY",8:"FRAME-HEARTBEAT",200:"REPLY-SUCCESS",206:"FRAME-END",311:"CONTENT-TOO-LARGE",312:"NO-ROUTE",313:"NO-CONSUMERS",320:"CONNECTION-FORCED",402:"INVALID-PATH",403:"ACCESS-REFUSED",404:"NOT-FOUND",405:"RESOURCE-LOCKED",406:"PRECONDITION-FAILED",501:"FRAME-ERROR",502:"SYNTAX-ERROR",503:"COMMAND-INVALID",504:"CHANNEL-ERROR",505:"UNEXPECTED-FRAME",506:"RESOURCE-ERROR",530:"NOT-ALLOWED",540:"NOT-IMPLEMENTED",541:"INTERNAL-ERROR",4096:"FRAME-MIN-SIZE"},e.exports.FRAME_OVERHEAD=8,e.exports.decode=function(e,t){switch(e){case 655370:return function(e){var t,r,n=0,i={versionMajor:void 0,versionMinor:void 0,serverProperties:void 0,mechanisms:void 0,locales:void 0};return t=e[n],n++,i.versionMajor=t,t=e[n],n++,i.versionMinor=t,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.serverProperties=t,r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.mechanisms=t,r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.locales=t,i}(t);case 655371:return function(e){var t,r,n=0,i={clientProperties:void 0,mechanism:void 0,response:void 0,locale:void 0};return r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.clientProperties=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.mechanism=t,r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.response=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.locale=t,i}(t);case 655380:return function(e){var t,r,n=0,i={challenge:void 0};return r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.challenge=t,i}(t);case 655381:return function(e){var t,r,n=0,i={response:void 0};return r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.response=t,i}(t);case 655390:case 655391:return function(e){var t,r=0,n={channelMax:void 0,frameMax:void 0,heartbeat:void 0};return t=e.readUInt16BE(r),r+=2,n.channelMax=t,t=e.readUInt32BE(r),r+=4,n.frameMax=t,t=e.readUInt16BE(r),r+=2,n.heartbeat=t,n}(t);case 655400:return function(e){var t,r,n=0,i={virtualHost:void 0,capabilities:void 0,insist:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.virtualHost=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.capabilities=t,t=!!(1&e[n]),i.insist=t,i}(t);case 655401:return function(e){var t,r,n=0,i={knownHosts:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.knownHosts=t,i}(t);case 655410:return function(e){var t,r,n=0,i={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return t=e.readUInt16BE(n),n+=2,i.replyCode=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.replyText=t,t=e.readUInt16BE(n),n+=2,i.classId=t,t=e.readUInt16BE(n),n+=2,i.methodId=t,i}(t);case 655411:return{};case 655420:return function(e){var t,r,n=0,i={reason:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.reason=t,i}(t);case 655421:return{};case 1310730:return function(e){var t,r,n=0,i={outOfBand:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.outOfBand=t,i}(t);case 1310731:return function(e){var t,r,n=0,i={channelId:void 0};return r=e.readUInt32BE(n),n+=4,t=e.slice(n,n+r),n+=r,i.channelId=t,i}(t);case 1310740:case 1310741:return function(e){var t,r={active:void 0};return t=!!(1&e[0]),r.active=t,r}(t);case 1310760:return function(e){var t,r,n=0,i={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return t=e.readUInt16BE(n),n+=2,i.replyCode=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.replyText=t,t=e.readUInt16BE(n),n+=2,i.classId=t,t=e.readUInt16BE(n),n+=2,i.methodId=t,i}(t);case 1310761:return{};case 1966090:return function(e){var t,r,n=0,i={realm:void 0,exclusive:void 0,passive:void 0,active:void 0,write:void 0,read:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.realm=t,t=!!(1&e[n]),i.exclusive=t,t=!!(2&e[n]),i.passive=t,t=!!(4&e[n]),i.active=t,t=!!(8&e[n]),i.write=t,t=!!(16&e[n]),i.read=t,i}(t);case 1966091:return function(e){var t,r=0,n={ticket:void 0};return t=e.readUInt16BE(r),r+=2,n.ticket=t,n}(t);case 2621450:return function(e){var t,r,n=0,i={ticket:void 0,exchange:void 0,type:void 0,passive:void 0,durable:void 0,autoDelete:void 0,internal:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.type=t,t=!!(1&e[n]),i.passive=t,t=!!(2&e[n]),i.durable=t,t=!!(4&e[n]),i.autoDelete=t,t=!!(8&e[n]),i.internal=t,t=!!(16&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 2621451:return{};case 2621460:return function(e){var t,r,n=0,i={ticket:void 0,exchange:void 0,ifUnused:void 0,nowait:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,t=!!(1&e[n]),i.ifUnused=t,t=!!(2&e[n]),i.nowait=t,i}(t);case 2621461:return{};case 2621470:return function(e){var t,r,n=0,i={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.destination=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.source=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,t=!!(1&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 2621471:return{};case 2621480:return function(e){var t,r,n=0,i={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.destination=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.source=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,t=!!(1&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 2621491:return{};case 3276810:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,passive:void 0,durable:void 0,exclusive:void 0,autoDelete:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,t=!!(1&e[n]),i.passive=t,t=!!(2&e[n]),i.durable=t,t=!!(4&e[n]),i.exclusive=t,t=!!(8&e[n]),i.autoDelete=t,t=!!(16&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 3276811:return function(e){var t,r,n=0,i={queue:void 0,messageCount:void 0,consumerCount:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,t=e.readUInt32BE(n),n+=4,i.messageCount=t,t=e.readUInt32BE(n),n+=4,i.consumerCount=t,i}(t);case 3276820:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,t=!!(1&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 3276821:return{};case 3276830:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,nowait:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,t=!!(1&e[n]),i.nowait=t,i}(t);case 3276831:return function(e){var t,r=0,n={messageCount:void 0};return t=e.readUInt32BE(r),r+=4,n.messageCount=t,n}(t);case 3276840:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,ifUnused:void 0,ifEmpty:void 0,nowait:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,t=!!(1&e[n]),i.ifUnused=t,t=!!(2&e[n]),i.ifEmpty=t,t=!!(4&e[n]),i.nowait=t,i}(t);case 3276841:return function(e){var t,r=0,n={messageCount:void 0};return t=e.readUInt32BE(r),r+=4,n.messageCount=t,n}(t);case 3276850:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 3276851:return{};case 3932170:return function(e){var t,r=0,n={prefetchSize:void 0,prefetchCount:void 0,global:void 0};return t=e.readUInt32BE(r),r+=4,n.prefetchSize=t,t=e.readUInt16BE(r),r+=2,n.prefetchCount=t,t=!!(1&e[r]),n.global=t,n}(t);case 3932171:return{};case 3932180:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,consumerTag:void 0,noLocal:void 0,noAck:void 0,exclusive:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.consumerTag=t,t=!!(1&e[n]),i.noLocal=t,t=!!(2&e[n]),i.noAck=t,t=!!(4&e[n]),i.exclusive=t,t=!!(8&e[n]),i.nowait=t,n++,r=e.readUInt32BE(n),n+=4,t=s(e.slice(n,n+r)),n+=r,i.arguments=t,i}(t);case 3932181:return function(e){var t,r,n=0,i={consumerTag:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.consumerTag=t,i}(t);case 3932190:return function(e){var t,r,n=0,i={consumerTag:void 0,nowait:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.consumerTag=t,t=!!(1&e[n]),i.nowait=t,i}(t);case 3932191:return function(e){var t,r,n=0,i={consumerTag:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.consumerTag=t,i}(t);case 3932200:return function(e){var t,r,n=0,i={ticket:void 0,exchange:void 0,routingKey:void 0,mandatory:void 0,immediate:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,t=!!(1&e[n]),i.mandatory=t,t=!!(2&e[n]),i.immediate=t,i}(t);case 3932210:return function(e){var t,r,n=0,i={replyCode:void 0,replyText:void 0,exchange:void 0,routingKey:void 0};return t=e.readUInt16BE(n),n+=2,i.replyCode=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.replyText=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,i}(t);case 3932220:return function(e){var t,r,n=0,i={consumerTag:void 0,deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.consumerTag=t,t=o.readUInt64BE(e,n),n+=8,i.deliveryTag=t,t=!!(1&e[n]),i.redelivered=t,n++,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,i}(t);case 3932230:return function(e){var t,r,n=0,i={ticket:void 0,queue:void 0,noAck:void 0};return t=e.readUInt16BE(n),n+=2,i.ticket=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.queue=t,t=!!(1&e[n]),i.noAck=t,i}(t);case 3932231:return function(e){var t,r,n=0,i={deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0,messageCount:void 0};return t=o.readUInt64BE(e,n),n+=8,i.deliveryTag=t,t=!!(1&e[n]),i.redelivered=t,n++,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.exchange=t,r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.routingKey=t,t=e.readUInt32BE(n),n+=4,i.messageCount=t,i}(t);case 3932232:return function(e){var t,r,n=0,i={clusterId:void 0};return r=e.readUInt8(n),n++,t=e.toString("utf8",n,n+r),n+=r,i.clusterId=t,i}(t);case 3932240:return function(e){var t,r=0,n={deliveryTag:void 0,multiple:void 0};return t=o.readUInt64BE(e,r),r+=8,n.deliveryTag=t,t=!!(1&e[r]),n.multiple=t,n}(t);case 3932250:return function(e){var t,r=0,n={deliveryTag:void 0,requeue:void 0};return t=o.readUInt64BE(e,r),r+=8,n.deliveryTag=t,t=!!(1&e[r]),n.requeue=t,n}(t);case 3932260:case 3932270:return function(e){var t,r={requeue:void 0};return t=!!(1&e[0]),r.requeue=t,r}(t);case 3932271:return{};case 3932280:return function(e){var t,r=0,n={deliveryTag:void 0,multiple:void 0,requeue:void 0};return t=o.readUInt64BE(e,r),r+=8,n.deliveryTag=t,t=!!(1&e[r]),n.multiple=t,t=!!(2&e[r]),n.requeue=t,n}(t);case 5898250:case 5898251:case 5898260:case 5898261:case 5898270:case 5898271:return{};case 5570570:return function(e){var t,r={nowait:void 0};return t=!!(1&e[0]),r.nowait=t,r}(t);case 5570571:return{};case 60:return function(e){var t,r,n,i=2;if(0===(t=e.readUInt16BE(0)))return{};var a={contentType:void 0,contentEncoding:void 0,headers:void 0,deliveryMode:void 0,priority:void 0,correlationId:void 0,replyTo:void 0,expiration:void 0,messageId:void 0,timestamp:void 0,type:void 0,userId:void 0,appId:void 0,clusterId:void 0};return 32768&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.contentType=r),16384&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.contentEncoding=r),8192&t&&(n=e.readUInt32BE(i),i+=4,r=s(e.slice(i,i+n)),i+=n,a.headers=r),4096&t&&(r=e[i],i++,a.deliveryMode=r),2048&t&&(r=e[i],i++,a.priority=r),1024&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.correlationId=r),512&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.replyTo=r),256&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.expiration=r),128&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.messageId=r),64&t&&(r=o.readUInt64BE(e,i),i+=8,a.timestamp=r),32&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.type=r),16&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.userId=r),8&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.appId=r),4&t&&(n=e.readUInt8(i),i++,r=e.toString("utf8",i,i+n),i+=n,a.clusterId=r),a}(t);default:throw new Error("Unknown class/method ID")}},e.exports.encodeMethod=function(e,t,r){switch(e){case 655370:return function(e,t){var r,i=0,o=null,s=0,c=0;if(void 0===(o=t.serverProperties))throw new Error("Missing value for mandatory field 'serverProperties'");if("object"!=typeof o)throw new TypeError("Field 'serverProperties' is the wrong type; must be an object");r=a(u,o,c);var l=u.slice(c,c+r);if(c+=r,s+=l.length,void 0===(o=t.mechanisms))o=n.from("PLAIN");else if(!n.isBuffer(o))throw new TypeError("Field 'mechanisms' is the wrong type; must be a Buffer");if(s+=o.length,void 0===(o=t.locales))o=n.from("en_US");else if(!n.isBuffer(o))throw new TypeError("Field 'locales' is the wrong type; must be a Buffer");s+=o.length;var d=n.alloc(22+s);if(d[0]=1,d.writeUInt16BE(e,1),d.writeUInt32BE(655370,7),i=11,void 0===(o=t.versionMajor))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMajor' is the wrong type; must be a number (but not NaN)");if(d.writeUInt8(o,i),i++,void 0===(o=t.versionMinor))o=9;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMinor' is the wrong type; must be a number (but not NaN)");return d.writeUInt8(o,i),i++,i+=l.copy(d,i),void 0===(o=t.mechanisms)&&(o=n.from("PLAIN")),r=o.length,d.writeUInt32BE(r,i),i+=4,o.copy(d,i),i+=r,void 0===(o=t.locales)&&(o=n.from("en_US")),r=o.length,d.writeUInt32BE(r,i),i+=4,o.copy(d,i),d[i+=r]=206,d.writeUInt32BE(i-7,3),d}(t,r);case 655371:return function(e,t){var r,i=0,o=null,s=0,c=0;if(void 0===(o=t.clientProperties))throw new Error("Missing value for mandatory field 'clientProperties'");if("object"!=typeof o)throw new TypeError("Field 'clientProperties' is the wrong type; must be an object");r=a(u,o,c);var l=u.slice(c,c+r);if(c+=r,s+=l.length,void 0===(o=t.mechanism))o="PLAIN";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'mechanism' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(s+=d,void 0===(o=t.response))throw new Error("Missing value for mandatory field 'response'");if(!n.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");if(s+=o.length,void 0===(o=t.locale))o="en_US";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'locale' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");s+=h;var f=n.alloc(18+s);return f[0]=1,f.writeUInt16BE(e,1),f.writeUInt32BE(655371,7),i=11,i+=l.copy(f,i),void 0===(o=t.mechanism)&&(o="PLAIN"),f[i]=d,i++,f.write(o,i,"utf8"),i+=d,void 0===(o=t.response)&&(o=n.from(void 0)),r=o.length,f.writeUInt32BE(r,i),i+=4,o.copy(f,i),i+=r,void 0===(o=t.locale)&&(o="en_US"),f[i]=h,i++,f.write(o,i,"utf8"),f[i+=h]=206,f.writeUInt32BE(i-7,3),f}(t,r);case 655380:return function(e,t){var r,i=0,o=null,a=0;if(void 0===(o=t.challenge))throw new Error("Missing value for mandatory field 'challenge'");if(!n.isBuffer(o))throw new TypeError("Field 'challenge' is the wrong type; must be a Buffer");a+=o.length;var s=n.alloc(16+a);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655380,7),i=11,void 0===(o=t.challenge)&&(o=n.from(void 0)),r=o.length,s.writeUInt32BE(r,i),i+=4,o.copy(s,i),s[i+=r]=206,s.writeUInt32BE(i-7,3),s}(t,r);case 655381:return function(e,t){var r,i=0,o=null,a=0;if(void 0===(o=t.response))throw new Error("Missing value for mandatory field 'response'");if(!n.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");a+=o.length;var s=n.alloc(16+a);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655381,7),i=11,void 0===(o=t.response)&&(o=n.from(void 0)),r=o.length,s.writeUInt32BE(r,i),i+=4,o.copy(s,i),s[i+=r]=206,s.writeUInt32BE(i-7,3),s}(t,r);case 655390:return function(e,t){var r=0,i=null,o=n.alloc(20);if(o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(655390,7),r=11,void 0===(i=t.channelMax))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(o.writeUInt16BE(i,r),r+=2,void 0===(i=t.frameMax))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(o.writeUInt32BE(i,r),r+=4,void 0===(i=t.heartbeat))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return o.writeUInt16BE(i,r),o[r+=2]=206,o.writeUInt32BE(r-7,3),o}(t,r);case 655391:return function(e,t){var r=0,i=null,o=n.alloc(20);if(o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(655391,7),r=11,void 0===(i=t.channelMax))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(o.writeUInt16BE(i,r),r+=2,void 0===(i=t.frameMax))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(o.writeUInt32BE(i,r),r+=4,void 0===(i=t.heartbeat))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return o.writeUInt16BE(i,r),o[r+=2]=206,o.writeUInt32BE(r-7,3),o}(t,r);case 655400:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.virtualHost))i="/";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'virtualHost' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");if(a+=s,void 0===(i=t.capabilities))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'capabilities' is the wrong type; must be a string (up to 255 chars)");var u=n.byteLength(i,"utf8");a+=u;var c=n.alloc(15+a);return c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(655400,7),r=11,void 0===(i=t.virtualHost)&&(i="/"),c[r]=s,r++,c.write(i,r,"utf8"),r+=s,void 0===(i=t.capabilities)&&(i=""),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,void 0===(i=t.insist)&&(i=!1),i&&(o+=1),c[r]=o,c[++r]=206,c.writeUInt32BE(r-7,3),c}(t,r);case 655401:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.knownHosts))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'knownHosts' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655401,7),r=11,void 0===(i=t.knownHosts)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 655410:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.replyText))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(19+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655410,7),r=11,void 0===(i=t.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,void 0===(i=t.replyText)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),r+=a,void 0===(i=t.classId))throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,void 0===(i=t.methodId))throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return s.writeUInt16BE(i,r),s[r+=2]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 655411:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(655411,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 655420:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.reason))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'reason' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655420,7),r=11,void 0===(i=t.reason)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 655421:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(655421,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 1310730:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.outOfBand))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'outOfBand' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(1310730,7),r=11,void 0===(i=t.outOfBand)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 1310731:return function(e,t){var r,i=0,o=null,a=0;if(void 0===(o=t.channelId))o=n.from("");else if(!n.isBuffer(o))throw new TypeError("Field 'channelId' is the wrong type; must be a Buffer");a+=o.length;var s=n.alloc(16+a);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(1310731,7),i=11,void 0===(o=t.channelId)&&(o=n.from("")),r=o.length,s.writeUInt32BE(r,i),i+=4,o.copy(s,i),s[i+=r]=206,s.writeUInt32BE(i-7,3),s}(t,r);case 1310740:return function(e,t){var r,i=0,o=0,a=n.alloc(13);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310740,7),i=11,void 0===(r=t.active))throw new Error("Missing value for mandatory field 'active'");return r&&(o+=1),a[i]=o,a[++i]=206,a.writeUInt32BE(i-7,3),a}(t,r);case 1310741:return function(e,t){var r,i=0,o=0,a=n.alloc(13);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310741,7),i=11,void 0===(r=t.active))throw new Error("Missing value for mandatory field 'active'");return r&&(o+=1),a[i]=o,a[++i]=206,a.writeUInt32BE(i-7,3),a}(t,r);case 1310760:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.replyText))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(19+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(1310760,7),r=11,void 0===(i=t.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,void 0===(i=t.replyText)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),r+=a,void 0===(i=t.classId))throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,void 0===(i=t.methodId))throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return s.writeUInt16BE(i,r),s[r+=2]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 1310761:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(1310761,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 1966090:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.realm))i="/data";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'realm' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(14+a);return u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(1966090,7),r=11,void 0===(i=t.realm)&&(i="/data"),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.exclusive)&&(i=!1),i&&(o+=1),void 0===(i=t.passive)&&(i=!0),i&&(o+=2),void 0===(i=t.active)&&(i=!0),i&&(o+=4),void 0===(i=t.write)&&(i=!0),i&&(o+=8),void 0===(i=t.read)&&(i=!0),i&&(o+=16),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 1966091:return function(e,t){var r=0,i=null,o=n.alloc(14);if(o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(1966091,7),r=11,void 0===(i=t.ticket))i=1;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return o.writeUInt16BE(i,r),o[r+=2]=206,o.writeUInt32BE(r-7,3),o}(t,r);case 2621450:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.type))o="direct";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(c+=h,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var f=u.slice(l,l+r);l+=r,c+=f.length;var p=n.alloc(17+c);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(2621450,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,void 0===(o=t.exchange)&&(o=void 0),p[i]=d,i++,p.write(o,i,"utf8"),i+=d,void 0===(o=t.type)&&(o="direct"),p[i]=h,i++,p.write(o,i,"utf8"),i+=h,void 0===(o=t.passive)&&(o=!1),o&&(s+=1),void 0===(o=t.durable)&&(o=!1),o&&(s+=2),void 0===(o=t.autoDelete)&&(o=!1),o&&(s+=4),void 0===(o=t.internal)&&(o=!1),o&&(s+=8),void 0===(o=t.nowait)&&(o=!1),o&&(s+=16),p[i]=s,i++,s=0,p[i+=f.copy(p,i)]=206,p.writeUInt32BE(i-7,3),p}(t,r);case 2621451:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(2621451,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 2621460:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(16+a);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(2621460,7),r=11,void 0===(i=t.ticket))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,void 0===(i=t.exchange)&&(i=void 0),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.ifUnused)&&(i=!1),i&&(o+=1),void 0===(i=t.nowait)&&(i=!1),i&&(o+=2),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 2621461:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(2621461,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 2621470:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.destination))throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.source))throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(c+=h,void 0===(o=t.routingKey))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=n.byteLength(o,"utf8");if(c+=f,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var p=u.slice(l,l+r);l+=r,c+=p.length;var g=n.alloc(18+c);if(g[0]=1,g.writeUInt16BE(e,1),g.writeUInt32BE(2621470,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return g.writeUInt16BE(o,i),i+=2,void 0===(o=t.destination)&&(o=void 0),g[i]=d,i++,g.write(o,i,"utf8"),i+=d,void 0===(o=t.source)&&(o=void 0),g[i]=h,i++,g.write(o,i,"utf8"),i+=h,void 0===(o=t.routingKey)&&(o=""),g[i]=f,i++,g.write(o,i,"utf8"),i+=f,void 0===(o=t.nowait)&&(o=!1),o&&(s+=1),g[i]=s,i++,s=0,g[i+=p.copy(g,i)]=206,g.writeUInt32BE(i-7,3),g}(t,r);case 2621471:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(2621471,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 2621480:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.destination))throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.source))throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(c+=h,void 0===(o=t.routingKey))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=n.byteLength(o,"utf8");if(c+=f,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var p=u.slice(l,l+r);l+=r,c+=p.length;var g=n.alloc(18+c);if(g[0]=1,g.writeUInt16BE(e,1),g.writeUInt32BE(2621480,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return g.writeUInt16BE(o,i),i+=2,void 0===(o=t.destination)&&(o=void 0),g[i]=d,i++,g.write(o,i,"utf8"),i+=d,void 0===(o=t.source)&&(o=void 0),g[i]=h,i++,g.write(o,i,"utf8"),i+=h,void 0===(o=t.routingKey)&&(o=""),g[i]=f,i++,g.write(o,i,"utf8"),i+=f,void 0===(o=t.nowait)&&(o=!1),o&&(s+=1),g[i]=s,i++,s=0,g[i+=p.copy(g,i)]=206,g.writeUInt32BE(i-7,3),g}(t,r);case 2621491:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(2621491,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 3276810:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.queue))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var h=u.slice(l,l+r);l+=r,c+=h.length;var f=n.alloc(16+c);if(f[0]=1,f.writeUInt16BE(e,1),f.writeUInt32BE(3276810,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return f.writeUInt16BE(o,i),i+=2,void 0===(o=t.queue)&&(o=""),f[i]=d,i++,f.write(o,i,"utf8"),i+=d,void 0===(o=t.passive)&&(o=!1),o&&(s+=1),void 0===(o=t.durable)&&(o=!1),o&&(s+=2),void 0===(o=t.exclusive)&&(o=!1),o&&(s+=4),void 0===(o=t.autoDelete)&&(o=!1),o&&(s+=8),void 0===(o=t.nowait)&&(o=!1),o&&(s+=16),f[i]=s,i++,s=0,f[i+=h.copy(f,i)]=206,f.writeUInt32BE(i-7,3),f}(t,r);case 3276811:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.queue))throw new Error("Missing value for mandatory field 'queue'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(21+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3276811,7),r=11,void 0===(i=t.queue)&&(i=void 0),s[r]=a,r++,s.write(i,r,"utf8"),r+=a,void 0===(i=t.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");if(s.writeUInt32BE(i,r),r+=4,void 0===(i=t.consumerCount))throw new Error("Missing value for mandatory field 'consumerCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'consumerCount' is the wrong type; must be a number (but not NaN)");return s.writeUInt32BE(i,r),s[r+=4]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3276820:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.queue))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(c+=h,void 0===(o=t.routingKey))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=n.byteLength(o,"utf8");if(c+=f,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var p=u.slice(l,l+r);l+=r,c+=p.length;var g=n.alloc(18+c);if(g[0]=1,g.writeUInt16BE(e,1),g.writeUInt32BE(3276820,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return g.writeUInt16BE(o,i),i+=2,void 0===(o=t.queue)&&(o=""),g[i]=d,i++,g.write(o,i,"utf8"),i+=d,void 0===(o=t.exchange)&&(o=void 0),g[i]=h,i++,g.write(o,i,"utf8"),i+=h,void 0===(o=t.routingKey)&&(o=""),g[i]=f,i++,g.write(o,i,"utf8"),i+=f,void 0===(o=t.nowait)&&(o=!1),o&&(s+=1),g[i]=s,i++,s=0,g[i+=p.copy(g,i)]=206,g.writeUInt32BE(i-7,3),g}(t,r);case 3276821:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(3276821,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 3276830:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.queue))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(16+a);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3276830,7),r=11,void 0===(i=t.ticket))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,void 0===(i=t.queue)&&(i=""),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.nowait)&&(i=!1),i&&(o+=1),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 3276831:return function(e,t){var r,i=0,o=n.alloc(16);if(o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3276831,7),i=11,void 0===(r=t.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return o.writeUInt32BE(r,i),o[i+=4]=206,o.writeUInt32BE(i-7,3),o}(t,r);case 3276840:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.queue))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(16+a);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3276840,7),r=11,void 0===(i=t.ticket))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,void 0===(i=t.queue)&&(i=""),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.ifUnused)&&(i=!1),i&&(o+=1),void 0===(i=t.ifEmpty)&&(i=!1),i&&(o+=2),void 0===(i=t.nowait)&&(i=!1),i&&(o+=4),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 3276841:return function(e,t){var r,i=0,o=n.alloc(16);if(o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3276841,7),i=11,void 0===(r=t.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return o.writeUInt32BE(r,i),o[i+=4]=206,o.writeUInt32BE(i-7,3),o}(t,r);case 3276850:return function(e,t){var r,i=0,o=null,s=0,c=0;if(void 0===(o=t.queue))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var l=n.byteLength(o,"utf8");if(s+=l,void 0===(o=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(s+=d,void 0===(o=t.routingKey))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(s+=h,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,c);var f=u.slice(c,c+r);c+=r,s+=f.length;var p=n.alloc(17+s);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(3276850,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,void 0===(o=t.queue)&&(o=""),p[i]=l,i++,p.write(o,i,"utf8"),i+=l,void 0===(o=t.exchange)&&(o=void 0),p[i]=d,i++,p.write(o,i,"utf8"),i+=d,void 0===(o=t.routingKey)&&(o=""),p[i]=h,i++,p.write(o,i,"utf8"),i+=h,p[i+=f.copy(p,i)]=206,p.writeUInt32BE(i-7,3),p}(t,r);case 3276851:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(3276851,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 3932170:return function(e,t){var r=0,i=null,o=0,a=n.alloc(19);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932170,7),r=11,void 0===(i=t.prefetchSize))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'prefetchSize' is the wrong type; must be a number (but not NaN)");if(a.writeUInt32BE(i,r),r+=4,void 0===(i=t.prefetchCount))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'prefetchCount' is the wrong type; must be a number (but not NaN)");return a.writeUInt16BE(i,r),r+=2,void 0===(i=t.global)&&(i=!1),i&&(o+=1),a[r]=o,a[++r]=206,a.writeUInt32BE(r-7,3),a}(t,r);case 3932171:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(3932171,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 3932180:return function(e,t){var r,i=0,o=null,s=0,c=0,l=0;if(void 0===(o=t.queue))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var d=n.byteLength(o,"utf8");if(c+=d,void 0===(o=t.consumerTag))o="";else if(!("string"==typeof o&&n.byteLength(o)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var h=n.byteLength(o,"utf8");if(c+=h,void 0===(o=t.arguments))o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=a(u,o,l);var f=u.slice(l,l+r);l+=r,c+=f.length;var p=n.alloc(17+c);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(3932180,7),i=11,void 0===(o=t.ticket))o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,void 0===(o=t.queue)&&(o=""),p[i]=d,i++,p.write(o,i,"utf8"),i+=d,void 0===(o=t.consumerTag)&&(o=""),p[i]=h,i++,p.write(o,i,"utf8"),i+=h,void 0===(o=t.noLocal)&&(o=!1),o&&(s+=1),void 0===(o=t.noAck)&&(o=!1),o&&(s+=2),void 0===(o=t.exclusive)&&(o=!1),o&&(s+=4),void 0===(o=t.nowait)&&(o=!1),o&&(s+=8),p[i]=s,i++,s=0,p[i+=f.copy(p,i)]=206,p.writeUInt32BE(i-7,3),p}(t,r);case 3932181:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932181,7),r=11,void 0===(i=t.consumerTag)&&(i=void 0),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3932190:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(14+a);return u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3932190,7),r=11,void 0===(i=t.consumerTag)&&(i=void 0),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.nowait)&&(i=!1),i&&(o+=1),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 3932191:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932191,7),r=11,void 0===(i=t.consumerTag)&&(i=void 0),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3932200:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.exchange))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");if(a+=s,void 0===(i=t.routingKey))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=n.byteLength(i,"utf8");a+=u;var c=n.alloc(17+a);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(3932200,7),r=11,void 0===(i=t.ticket))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return c.writeUInt16BE(i,r),r+=2,void 0===(i=t.exchange)&&(i=""),c[r]=s,r++,c.write(i,r,"utf8"),r+=s,void 0===(i=t.routingKey)&&(i=""),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,void 0===(i=t.mandatory)&&(i=!1),i&&(o+=1),void 0===(i=t.immediate)&&(i=!1),i&&(o+=2),c[r]=o,c[++r]=206,c.writeUInt32BE(r-7,3),c}(t,r);case 3932210:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.replyText))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");if(o+=a,void 0===(i=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");if(o+=s,void 0===(i=t.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=n.byteLength(i,"utf8");o+=u;var c=n.alloc(17+o);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(3932210,7),r=11,void 0===(i=t.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");return c.writeUInt16BE(i,r),r+=2,void 0===(i=t.replyText)&&(i=""),c[r]=a,r++,c.write(i,r,"utf8"),r+=a,void 0===(i=t.exchange)&&(i=void 0),c[r]=s,r++,c.write(i,r,"utf8"),r+=s,void 0===(i=t.routingKey)&&(i=void 0),c[r]=u,r++,c.write(i,r,"utf8"),c[r+=u]=206,c.writeUInt32BE(r-7,3),c}(t,r);case 3932220:return function(e,t){var r=0,i=null,a=0,s=0;if(void 0===(i=t.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var u=n.byteLength(i,"utf8");if(s+=u,void 0===(i=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=n.byteLength(i,"utf8");if(s+=c,void 0===(i=t.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var l=n.byteLength(i,"utf8");s+=l;var d=n.alloc(24+s);if(d[0]=1,d.writeUInt16BE(e,1),d.writeUInt32BE(3932220,7),r=11,void 0===(i=t.consumerTag)&&(i=void 0),d[r]=u,r++,d.write(i,r,"utf8"),r+=u,void 0===(i=t.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return o.writeUInt64BE(d,i,r),r+=8,void 0===(i=t.redelivered)&&(i=!1),i&&(a+=1),d[r]=a,r++,a=0,void 0===(i=t.exchange)&&(i=void 0),d[r]=c,r++,d.write(i,r,"utf8"),r+=c,void 0===(i=t.routingKey)&&(i=void 0),d[r]=l,r++,d.write(i,r,"utf8"),d[r+=l]=206,d.writeUInt32BE(r-7,3),d}(t,r);case 3932230:return function(e,t){var r=0,i=null,o=0,a=0;if(void 0===(i=t.queue))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=n.byteLength(i,"utf8");a+=s;var u=n.alloc(16+a);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3932230,7),r=11,void 0===(i=t.ticket))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,void 0===(i=t.queue)&&(i=""),u[r]=s,r++,u.write(i,r,"utf8"),r+=s,void 0===(i=t.noAck)&&(i=!1),i&&(o+=1),u[r]=o,u[++r]=206,u.writeUInt32BE(r-7,3),u}(t,r);case 3932231:return function(e,t){var r=0,i=null,a=0,s=0;if(void 0===(i=t.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var u=n.byteLength(i,"utf8");if(s+=u,void 0===(i=t.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var c=n.byteLength(i,"utf8");s+=c;var l=n.alloc(27+s);if(l[0]=1,l.writeUInt16BE(e,1),l.writeUInt32BE(3932231,7),r=11,void 0===(i=t.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");if(o.writeUInt64BE(l,i,r),r+=8,void 0===(i=t.redelivered)&&(i=!1),i&&(a+=1),l[r]=a,r++,a=0,void 0===(i=t.exchange)&&(i=void 0),l[r]=u,r++,l.write(i,r,"utf8"),r+=u,void 0===(i=t.routingKey)&&(i=void 0),l[r]=c,r++,l.write(i,r,"utf8"),r+=c,void 0===(i=t.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return l.writeUInt32BE(i,r),l[r+=4]=206,l.writeUInt32BE(r-7,3),l}(t,r);case 3932232:return function(e,t){var r=0,i=null,o=0;if(void 0===(i=t.clusterId))i="";else if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var a=n.byteLength(i,"utf8");o+=a;var s=n.alloc(13+o);return s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932232,7),r=11,void 0===(i=t.clusterId)&&(i=""),s[r]=a,r++,s.write(i,r,"utf8"),s[r+=a]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3932240:return function(e,t){var r=0,i=null,a=0,s=n.alloc(21);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932240,7),r=11,void 0===(i=t.deliveryTag))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return o.writeUInt64BE(s,i,r),r+=8,void 0===(i=t.multiple)&&(i=!1),i&&(a+=1),s[r]=a,s[++r]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3932250:return function(e,t){var r=0,i=null,a=0,s=n.alloc(21);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932250,7),r=11,void 0===(i=t.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return o.writeUInt64BE(s,i,r),r+=8,void 0===(i=t.requeue)&&(i=!0),i&&(a+=1),s[r]=a,s[++r]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 3932260:return function(e,t){var r=0,i=null,o=0,a=n.alloc(13);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932260,7),r=11,void 0===(i=t.requeue)&&(i=!1),i&&(o+=1),a[r]=o,a[++r]=206,a.writeUInt32BE(r-7,3),a}(t,r);case 3932270:return function(e,t){var r=0,i=null,o=0,a=n.alloc(13);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932270,7),r=11,void 0===(i=t.requeue)&&(i=!1),i&&(o+=1),a[r]=o,a[++r]=206,a.writeUInt32BE(r-7,3),a}(t,r);case 3932271:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(3932271,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 3932280:return function(e,t){var r=0,i=null,a=0,s=n.alloc(21);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3932280,7),r=11,void 0===(i=t.deliveryTag))i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return o.writeUInt64BE(s,i,r),r+=8,void 0===(i=t.multiple)&&(i=!1),i&&(a+=1),void 0===(i=t.requeue)&&(i=!0),i&&(a+=2),s[r]=a,s[++r]=206,s.writeUInt32BE(r-7,3),s}(t,r);case 5898250:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898250,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5898251:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898251,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5898260:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898260,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5898261:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898261,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5898270:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898270,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5898271:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5898271,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);case 5570570:return function(e,t){var r=0,i=null,o=0,a=n.alloc(13);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(5570570,7),r=11,void 0===(i=t.nowait)&&(i=!1),i&&(o+=1),a[r]=o,a[++r]=206,a.writeUInt32BE(r-7,3),a}(t,r);case 5570571:return function(e,t){var r=n.alloc(12);return r[0]=1,r.writeUInt16BE(e,1),r.writeUInt32BE(5570571,7),r[11]=206,r.writeUInt32BE(4,3),r}(t);default:throw new Error("Unknown class/method ID")}},e.exports.encodeProperties=function(e,t,r,i){switch(e){case 60:return function(e,t,r){var i,s,c=0,l=0,d=0,h=0;if(void 0!=(i=r.contentType)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'contentType' is the wrong type; must be a string (up to 255 chars)");var f=n.byteLength(i,"utf8");h+=1,h+=f}if(void 0!=(i=r.contentEncoding)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'contentEncoding' is the wrong type; must be a string (up to 255 chars)");var p=n.byteLength(i,"utf8");h+=1,h+=p}if(void 0!=(i=r.headers)){if("object"!=typeof i)throw new TypeError("Field 'headers' is the wrong type; must be an object");s=a(u,i,d);var g=u.slice(d,d+s);d+=s,h+=g.length}if(void 0!=(i=r.deliveryMode)){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryMode' is the wrong type; must be a number (but not NaN)");h+=1}if(void 0!=(i=r.priority)){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'priority' is the wrong type; must be a number (but not NaN)");h+=1}if(void 0!=(i=r.correlationId)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'correlationId' is the wrong type; must be a string (up to 255 chars)");var m=n.byteLength(i,"utf8");h+=1,h+=m}if(void 0!=(i=r.replyTo)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'replyTo' is the wrong type; must be a string (up to 255 chars)");var v=n.byteLength(i,"utf8");h+=1,h+=v}if(void 0!=(i=r.expiration)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'expiration' is the wrong type; must be a string (up to 255 chars)");var w=n.byteLength(i,"utf8");h+=1,h+=w}if(void 0!=(i=r.messageId)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'messageId' is the wrong type; must be a string (up to 255 chars)");var y=n.byteLength(i,"utf8");h+=1,h+=y}if(void 0!=(i=r.timestamp)){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'timestamp' is the wrong type; must be a number (but not NaN)");h+=8}if(void 0!=(i=r.type)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var b=n.byteLength(i,"utf8");h+=1,h+=b}if(void 0!=(i=r.userId)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'userId' is the wrong type; must be a string (up to 255 chars)");var E=n.byteLength(i,"utf8");h+=1,h+=E}if(void 0!=(i=r.appId)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'appId' is the wrong type; must be a string (up to 255 chars)");var I=n.byteLength(i,"utf8");h+=1,h+=I}if(void 0!=(i=r.clusterId)){if(!("string"==typeof i&&n.byteLength(i)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var B=n.byteLength(i,"utf8");h+=1,h+=B}var x=n.alloc(22+h);return x[0]=2,x.writeUInt16BE(e,1),x.writeUInt32BE(3932160,7),o.writeUInt64BE(x,t,11),l=0,c=21,void 0!=(i=r.contentType)&&(l+=32768,x[c]=f,c++,x.write(i,c,"utf8"),c+=f),void 0!=(i=r.contentEncoding)&&(l+=16384,x[c]=p,c++,x.write(i,c,"utf8"),c+=p),void 0!=(i=r.headers)&&(l+=8192,c+=g.copy(x,c)),void 0!=(i=r.deliveryMode)&&(l+=4096,x.writeUInt8(i,c),c++),void 0!=(i=r.priority)&&(l+=2048,x.writeUInt8(i,c),c++),void 0!=(i=r.correlationId)&&(l+=1024,x[c]=m,c++,x.write(i,c,"utf8"),c+=m),void 0!=(i=r.replyTo)&&(l+=512,x[c]=v,c++,x.write(i,c,"utf8"),c+=v),void 0!=(i=r.expiration)&&(l+=256,x[c]=w,c++,x.write(i,c,"utf8"),c+=w),void 0!=(i=r.messageId)&&(l+=128,x[c]=y,c++,x.write(i,c,"utf8"),c+=y),void 0!=(i=r.timestamp)&&(l+=64,o.writeUInt64BE(x,i,c),c+=8),void 0!=(i=r.type)&&(l+=32,x[c]=b,c++,x.write(i,c,"utf8"),c+=b),void 0!=(i=r.userId)&&(l+=16,x[c]=E,c++,x.write(i,c,"utf8"),c+=E),void 0!=(i=r.appId)&&(l+=8,x[c]=I,c++,x.write(i,c,"utf8"),c+=I),void 0!=(i=r.clusterId)&&(l+=4,x[c]=B,c++,x.write(i,c,"utf8"),c+=B),x[c]=206,x.writeUInt32BE(c-7,3),x.writeUInt16BE(l,19),x.slice(0,c+1)}(t,r,i);default:throw new Error("Unknown class/properties ID")}},e.exports.info=function(e){switch(e){case 655370:return c;case 655371:return l;case 655380:return d;case 655381:return h;case 655390:return f;case 655391:return p;case 655400:return g;case 655401:return m;case 655410:return v;case 655411:return w;case 655420:return y;case 655421:return b;case 1310730:return E;case 1310731:return I;case 1310740:return B;case 1310741:return x;case 1310760:return U;case 1310761:return k;case 1966090:return C;case 1966091:return T;case 2621450:return S;case 2621451:return N;case 2621460:return O;case 2621461:return M;case 2621470:return R;case 2621471:return L;case 2621480:return F;case 2621491:return _;case 3276810:return q;case 3276811:return A;case 3276820:return D;case 3276821:return j;case 3276830:return P;case 3276831:return Q;case 3276840:return K;case 3276841:return H;case 3276850:return W;case 3276851:return z;case 3932170:return V;case 3932171:return G;case 3932180:return Y;case 3932181:return X;case 3932190:return J;case 3932191:return Z;case 3932200:return $;case 3932210:return ee;case 3932220:return te;case 3932230:return re;case 3932231:return ne;case 3932232:return ie;case 3932240:return oe;case 3932250:return ae;case 3932260:return se;case 3932270:return ue;case 3932271:return ce;case 3932280:return le;case 5898250:return de;case 5898251:return he;case 5898260:return fe;case 5898261:return pe;case 5898270:return ge;case 5898271:return me;case 5570570:return ve;case 5570571:return we;case 60:return ye;default:throw new Error("Unknown class/method ID")}},e.exports.ConnectionStart=655370;var c=e.exports.methodInfoConnectionStart={id:655370,name:"ConnectionStart",args:[{type:"octet",name:"versionMajor",default:0},{type:"octet",name:"versionMinor",default:9},{type:"table",name:"serverProperties"},{type:"longstr",name:"mechanisms",default:"PLAIN"},{type:"longstr",name:"locales",default:"en_US"}]};e.exports.ConnectionStartOk=655371;var l=e.exports.methodInfoConnectionStartOk={id:655371,name:"ConnectionStartOk",args:[{type:"table",name:"clientProperties"},{type:"shortstr",name:"mechanism",default:"PLAIN"},{type:"longstr",name:"response"},{type:"shortstr",name:"locale",default:"en_US"}]};e.exports.ConnectionSecure=655380;var d=e.exports.methodInfoConnectionSecure={id:655380,name:"ConnectionSecure",args:[{type:"longstr",name:"challenge"}]};e.exports.ConnectionSecureOk=655381;var h=e.exports.methodInfoConnectionSecureOk={id:655381,name:"ConnectionSecureOk",args:[{type:"longstr",name:"response"}]};e.exports.ConnectionTune=655390;var f=e.exports.methodInfoConnectionTune={id:655390,name:"ConnectionTune",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};e.exports.ConnectionTuneOk=655391;var p=e.exports.methodInfoConnectionTuneOk={id:655391,name:"ConnectionTuneOk",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};e.exports.ConnectionOpen=655400;var g=e.exports.methodInfoConnectionOpen={id:655400,name:"ConnectionOpen",args:[{type:"shortstr",name:"virtualHost",default:"/"},{type:"shortstr",name:"capabilities",default:""},{type:"bit",name:"insist",default:!1}]};e.exports.ConnectionOpenOk=655401;var m=e.exports.methodInfoConnectionOpenOk={id:655401,name:"ConnectionOpenOk",args:[{type:"shortstr",name:"knownHosts",default:""}]};e.exports.ConnectionClose=655410;var v=e.exports.methodInfoConnectionClose={id:655410,name:"ConnectionClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ConnectionCloseOk=655411;var w=e.exports.methodInfoConnectionCloseOk={id:655411,name:"ConnectionCloseOk",args:[]};e.exports.ConnectionBlocked=655420;var y=e.exports.methodInfoConnectionBlocked={id:655420,name:"ConnectionBlocked",args:[{type:"shortstr",name:"reason",default:""}]};e.exports.ConnectionUnblocked=655421;var b=e.exports.methodInfoConnectionUnblocked={id:655421,name:"ConnectionUnblocked",args:[]};e.exports.ChannelOpen=1310730;var E=e.exports.methodInfoChannelOpen={id:1310730,name:"ChannelOpen",args:[{type:"shortstr",name:"outOfBand",default:""}]};e.exports.ChannelOpenOk=1310731;var I=e.exports.methodInfoChannelOpenOk={id:1310731,name:"ChannelOpenOk",args:[{type:"longstr",name:"channelId",default:""}]};e.exports.ChannelFlow=1310740;var B=e.exports.methodInfoChannelFlow={id:1310740,name:"ChannelFlow",args:[{type:"bit",name:"active"}]};e.exports.ChannelFlowOk=1310741;var x=e.exports.methodInfoChannelFlowOk={id:1310741,name:"ChannelFlowOk",args:[{type:"bit",name:"active"}]};e.exports.ChannelClose=1310760;var U=e.exports.methodInfoChannelClose={id:1310760,name:"ChannelClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ChannelCloseOk=1310761;var k=e.exports.methodInfoChannelCloseOk={id:1310761,name:"ChannelCloseOk",args:[]};e.exports.AccessRequest=1966090;var C=e.exports.methodInfoAccessRequest={id:1966090,name:"AccessRequest",args:[{type:"shortstr",name:"realm",default:"/data"},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"passive",default:!0},{type:"bit",name:"active",default:!0},{type:"bit",name:"write",default:!0},{type:"bit",name:"read",default:!0}]};e.exports.AccessRequestOk=1966091;var T=e.exports.methodInfoAccessRequestOk={id:1966091,name:"AccessRequestOk",args:[{type:"short",name:"ticket",default:1}]};e.exports.ExchangeDeclare=2621450;var S=e.exports.methodInfoExchangeDeclare={id:2621450,name:"ExchangeDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"type",default:"direct"},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"internal",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeDeclareOk=2621451;var N=e.exports.methodInfoExchangeDeclareOk={id:2621451,name:"ExchangeDeclareOk",args:[]};e.exports.ExchangeDelete=2621460;var O=e.exports.methodInfoExchangeDelete={id:2621460,name:"ExchangeDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"nowait",default:!1}]};e.exports.ExchangeDeleteOk=2621461;var M=e.exports.methodInfoExchangeDeleteOk={id:2621461,name:"ExchangeDeleteOk",args:[]};e.exports.ExchangeBind=2621470;var R=e.exports.methodInfoExchangeBind={id:2621470,name:"ExchangeBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeBindOk=2621471;var L=e.exports.methodInfoExchangeBindOk={id:2621471,name:"ExchangeBindOk",args:[]};e.exports.ExchangeUnbind=2621480;var F=e.exports.methodInfoExchangeUnbind={id:2621480,name:"ExchangeUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeUnbindOk=2621491;var _=e.exports.methodInfoExchangeUnbindOk={id:2621491,name:"ExchangeUnbindOk",args:[]};e.exports.QueueDeclare=3276810;var q=e.exports.methodInfoQueueDeclare={id:3276810,name:"QueueDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.QueueDeclareOk=3276811;var A=e.exports.methodInfoQueueDeclareOk={id:3276811,name:"QueueDeclareOk",args:[{type:"shortstr",name:"queue"},{type:"long",name:"messageCount"},{type:"long",name:"consumerCount"}]};e.exports.QueueBind=3276820;var D=e.exports.methodInfoQueueBind={id:3276820,name:"QueueBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.QueueBindOk=3276821;var j=e.exports.methodInfoQueueBindOk={id:3276821,name:"QueueBindOk",args:[]};e.exports.QueuePurge=3276830;var P=e.exports.methodInfoQueuePurge={id:3276830,name:"QueuePurge",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"nowait",default:!1}]};e.exports.QueuePurgeOk=3276831;var Q=e.exports.methodInfoQueuePurgeOk={id:3276831,name:"QueuePurgeOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueDelete=3276840;var K=e.exports.methodInfoQueueDelete={id:3276840,name:"QueueDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"ifEmpty",default:!1},{type:"bit",name:"nowait",default:!1}]};e.exports.QueueDeleteOk=3276841;var H=e.exports.methodInfoQueueDeleteOk={id:3276841,name:"QueueDeleteOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueUnbind=3276850;var W=e.exports.methodInfoQueueUnbind={id:3276850,name:"QueueUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"table",name:"arguments",default:{}}]};e.exports.QueueUnbindOk=3276851;var z=e.exports.methodInfoQueueUnbindOk={id:3276851,name:"QueueUnbindOk",args:[]};e.exports.BasicQos=3932170;var V=e.exports.methodInfoBasicQos={id:3932170,name:"BasicQos",args:[{type:"long",name:"prefetchSize",default:0},{type:"short",name:"prefetchCount",default:0},{type:"bit",name:"global",default:!1}]};e.exports.BasicQosOk=3932171;var G=e.exports.methodInfoBasicQosOk={id:3932171,name:"BasicQosOk",args:[]};e.exports.BasicConsume=3932180;var Y=e.exports.methodInfoBasicConsume={id:3932180,name:"BasicConsume",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"consumerTag",default:""},{type:"bit",name:"noLocal",default:!1},{type:"bit",name:"noAck",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.BasicConsumeOk=3932181;var X=e.exports.methodInfoBasicConsumeOk={id:3932181,name:"BasicConsumeOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicCancel=3932190;var J=e.exports.methodInfoBasicCancel={id:3932190,name:"BasicCancel",args:[{type:"shortstr",name:"consumerTag"},{type:"bit",name:"nowait",default:!1}]};e.exports.BasicCancelOk=3932191;var Z=e.exports.methodInfoBasicCancelOk={id:3932191,name:"BasicCancelOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicPublish=3932200;var $=e.exports.methodInfoBasicPublish={id:3932200,name:"BasicPublish",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange",default:""},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"mandatory",default:!1},{type:"bit",name:"immediate",default:!1}]};e.exports.BasicReturn=3932210;var ee=e.exports.methodInfoBasicReturn={id:3932210,name:"BasicReturn",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicDeliver=3932220;var te=e.exports.methodInfoBasicDeliver={id:3932220,name:"BasicDeliver",args:[{type:"shortstr",name:"consumerTag"},{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicGet=3932230;var re=e.exports.methodInfoBasicGet={id:3932230,name:"BasicGet",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"noAck",default:!1}]};e.exports.BasicGetOk=3932231;var ne=e.exports.methodInfoBasicGetOk={id:3932231,name:"BasicGetOk",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"},{type:"long",name:"messageCount"}]};e.exports.BasicGetEmpty=3932232;var ie=e.exports.methodInfoBasicGetEmpty={id:3932232,name:"BasicGetEmpty",args:[{type:"shortstr",name:"clusterId",default:""}]};e.exports.BasicAck=3932240;var oe=e.exports.methodInfoBasicAck={id:3932240,name:"BasicAck",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1}]};e.exports.BasicReject=3932250;var ae=e.exports.methodInfoBasicReject={id:3932250,name:"BasicReject",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"requeue",default:!0}]};e.exports.BasicRecoverAsync=3932260;var se=e.exports.methodInfoBasicRecoverAsync={id:3932260,name:"BasicRecoverAsync",args:[{type:"bit",name:"requeue",default:!1}]};e.exports.BasicRecover=3932270;var ue=e.exports.methodInfoBasicRecover={id:3932270,name:"BasicRecover",args:[{type:"bit",name:"requeue",default:!1}]};e.exports.BasicRecoverOk=3932271;var ce=e.exports.methodInfoBasicRecoverOk={id:3932271,name:"BasicRecoverOk",args:[]};e.exports.BasicNack=3932280;var le=e.exports.methodInfoBasicNack={id:3932280,name:"BasicNack",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1},{type:"bit",name:"requeue",default:!0}]};e.exports.TxSelect=5898250;var de=e.exports.methodInfoTxSelect={id:5898250,name:"TxSelect",args:[]};e.exports.TxSelectOk=5898251;var he=e.exports.methodInfoTxSelectOk={id:5898251,name:"TxSelectOk",args:[]};e.exports.TxCommit=5898260;var fe=e.exports.methodInfoTxCommit={id:5898260,name:"TxCommit",args:[]};e.exports.TxCommitOk=5898261;var pe=e.exports.methodInfoTxCommitOk={id:5898261,name:"TxCommitOk",args:[]};e.exports.TxRollback=5898270;var ge=e.exports.methodInfoTxRollback={id:5898270,name:"TxRollback",args:[]};e.exports.TxRollbackOk=5898271;var me=e.exports.methodInfoTxRollbackOk={id:5898271,name:"TxRollbackOk",args:[]};e.exports.ConfirmSelect=5570570;var ve=e.exports.methodInfoConfirmSelect={id:5570570,name:"ConfirmSelect",args:[{type:"bit",name:"nowait",default:!1}]};e.exports.ConfirmSelectOk=5570571;var we=e.exports.methodInfoConfirmSelectOk={id:5570571,name:"ConfirmSelectOk",args:[]};e.exports.BasicProperties=60;var ye=e.exports.propertiesInfoBasicProperties={id:60,name:"BasicProperties",args:[{type:"shortstr",name:"contentType"},{type:"shortstr",name:"contentEncoding"},{type:"table",name:"headers"},{type:"octet",name:"deliveryMode"},{type:"octet",name:"priority"},{type:"shortstr",name:"correlationId"},{type:"shortstr",name:"replyTo"},{type:"shortstr",name:"expiration"},{type:"shortstr",name:"messageId"},{type:"timestamp",name:"timestamp"},{type:"shortstr",name:"type"},{type:"shortstr",name:"userId"},{type:"shortstr",name:"appId"},{type:"shortstr",name:"clusterId"}]}},function(e,t){e.exports=require("safe-buffer")},function(e,t){e.exports=require("core-util-is")},function(e,t){e.exports=require("inherits")},function(e,t){e.exports=require("events")},function(e,t,r){function n(e,t){return e&&e.split("\n").slice(t).join("\n")}function i(e,t){var r=new Error;this.message=e,this.stack=this.toString()+"\n"+n(r.stack,2),this.stackAtStateChange=t}(0,r(0).inherits)(i,Error),i.prototype.name="IllegalOperationError",e.exports.IllegalOperationError=i,e.exports.stackCapture=function(e){return"Stack capture: "+e+"\n"+n((new Error).stack,2)}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("buffer-more-ints")},function(e,t,r){"use strict";var n=r(3),i=n.constants,o=n.decode,a=r(4).Buffer,s=r(33);e.exports.PROTOCOL_HEADER="AMQP"+String.fromCharCode(0,0,9,1);var u=i.FRAME_METHOD,c=i.FRAME_HEARTBEAT,l=i.FRAME_HEADER,d=i.FRAME_BODY,h=i.FRAME_END,f=s.builder(d,"channel:16, size:32, payload:size/binary",h);e.exports.makeBodyFrame=function(e,t){return f({channel:e,size:t.length,payload:t})};var p=s.matcher("type:8","channel:16","size:32","rest/binary");e.exports.parseFrame=function(e,t){var r=p(e);if(r){var n=r.size,i=r.rest;if(n>t)throw new Error("Frame size exceeds frame max");if(i.length>n){if(i[n]!==h)throw new Error("Invalid frame");return{type:r.type,channel:r.channel,size:n,payload:i.slice(0,n),rest:i.slice(n+1)}}}return!1};var g=s.matcher("class:16","_weight:16","size:64","flagsAndfields/binary"),m=s.matcher("id:32, args/binary"),v={channel:0};e.exports.decodeFrame=function(e){var t=e.payload;switch(e.type){case u:var r=m(t),n=r.id,i=o(n,r.args);return{id:n,channel:e.channel,fields:i};case l:var a=g(t);n=a.class,i=o(n,a.flagsAndfields);return{id:n,channel:e.channel,size:a.size,fields:i};case d:return{channel:e.channel,content:e.payload};case c:return v;default:throw new Error("Unknown frame type "+e.type)}},e.exports.HEARTBEAT_BUF=a.from([i.FRAME_HEARTBEAT,0,0,0,0,0,0,i.FRAME_END]),e.exports.HEARTBEAT=v},function(e,t){e.exports=require("assert")},function(e,t,r){var n=r(10).Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var o=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=u;break;default:return void(this.write=a)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function a(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function u(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},function(e,t,r){var n=r(4).Buffer;e.exports.plain=function(e,t){return{mechanism:"PLAIN",response:function(){return n.from(["",e,t].join(String.fromCharCode(0)))},username:e,password:t}},e.exports.external=function(){return{mechanism:"EXTERNAL",response:function(){return n.from("")}}}},function(e,t,r){"use strict";var n=r(3),i=r(2).closeMessage,o=r(2).inspect,a=r(2).methodName,s=r(13),u=r(0).inherits,c=r(7).EventEmitter,l=r(0).format,d=r(8).IllegalOperationError,h=r(8).stackCapture,f=r(4).Buffer;function p(e){c.call(this),this.connection=e,this.reply=null,this.pending=[],this.lwm=1,this.unconfirmed=[],this.on("ack",this.handleConfirm.bind(this,function(e){e&&e(null)})),this.on("nack",this.handleConfirm.bind(this,function(e){e&&e(new Error("message nacked"))})),this.handleMessage=w}u(p,c),e.exports.Channel=p,e.exports.acceptMessage=y;var g=p.prototype;function m(e,t){return function(){throw new d(e,t)}}function v(e,t,r){e.sendImmediately=e.sendOrEnqueue=e.sendMessage=m(t,r)}function w(e){var t;if(e.id===n.BasicDeliver)t="delivery";else{if(e.id!==n.BasicReturn)throw l("Expected BasicDeliver or BasicReturn; got %s",o(e));t="return"}var r=this,i=e.fields;return y(function(e){e.fields=i,r.emit(t,e)})}function y(e){var t=0,r=0,i=null,o={fields:null,properties:null,content:null};return function(i){if(i.id===n.BasicProperties)return o.properties=i.fields,0===(t=r=i.size)?(o.content=f.alloc(0),e(o),w):a;throw"Expected headers frame after delivery"};function a(n){if(n.content){var s=n.content.length;if(0===(r-=s))return null!==i?(i.push(n.content),o.content=f.concat(i)):o.content=n.content,e(o),w;if(r<0)throw l("Too much content sent! Expected %d bytes",t);return null!==i?i.push(n.content):i=[n.content],a}throw"Expected content frame after headers"}}function b(e){p.call(this,e),this.consumers={}}g.allocate=function(){return this.ch=this.connection.freshChannel(this),this},g.sendImmediately=function(e,t){return this.connection.sendMethod(this.ch,e,t)},g.sendOrEnqueue=function(e,t,r){this.reply?this.pending.push({method:e,fields:t,reply:r}):(s(0===this.pending.length),this.reply=r,this.sendImmediately(e,t))},g.sendMessage=function(e,t,r){return this.connection.sendMessage(this.ch,n.BasicPublish,e,n.BasicProperties,t,r)},g._rpc=function(e,t,r,s){var u=this;this.sendOrEnqueue(e,t,function(t,c){if(null===t){if(c.id===r)return s(null,c);var d=a(r),h=new Error(l("Expected %s; got %s",d,o(c,!1)));return u.closeWithError(l("Expected %s; got %s",d,a(c.id)),n.constants.UNEXPECTED_FRAME,h),s(h)}if(t instanceof Error)return s(t);var f=(t.fields.classId<<16)+t.fields.methodId;return h=e===f?l("Operation failed: %s; %s",a(e),i(t)):l("Channel closed by server: %s",i(t)),s(new Error(h))})},g.toClosed=function(e){this._rejectPending(),v(this,"Channel closed",e),this.accept=m("Channel closed",e),this.connection.releaseChannel(this.ch),this.emit("close")},g.toClosing=function(e,t){var r=this.sendImmediately.bind(this);v(this,"Channel closing",e),this.accept=function(e){if(e.id===n.ChannelCloseOk){t&&t();var i=h("ChannelCloseOk frame received");this.toClosed(i)}else e.id===n.ChannelClose&&r(n.ChannelCloseOk,{})}},g._rejectPending=function(){function e(e){e(new Error("Channel ended, no reply will be forthcoming"))}var t;for(null!==this.reply&&e(this.reply),this.reply=null;t=this.pending.shift();)e(t.reply);this.pending=null},g.closeBecause=function(e,t,r){this.sendImmediately(n.ChannelClose,{replyText:e,replyCode:t,methodId:0,classId:0});var i=h("closeBecause called: "+e);this.toClosing(i,r)},g.closeWithError=function(e,t,r){var n=this;this.closeBecause(e,t,function(){r.code=t,n.emit("error",r)})},g.acceptMessageFrame=function(e){try{this.handleMessage=this.handleMessage(e)}catch(e){"string"==typeof e?this.closeWithError(e,n.constants.UNEXPECTED_FRAME,new Error(e)):e instanceof Error?this.closeWithError("Error while processing message",n.constants.INTERNAL_ERROR,e):this.closeWithError("Internal error while processing message",n.constants.INTERNAL_ERROR,new Error(e.toString()))}},g.handleConfirm=function(e,t){var r=t.deliveryTag;if(t.multiple){var n=this.unconfirmed.splice(0,r-this.lwm+1);this.lwm=r+1,n.forEach(e)}else{var i;if(r===this.lwm)for(i=this.unconfirmed.shift(),this.lwm++;null===this.unconfirmed[0];)this.unconfirmed.shift(),this.lwm++;else i=this.unconfirmed[r-this.lwm],this.unconfirmed[r-this.lwm]=null;e(i)}},g.pushConfirmCallback=function(e){this.unconfirmed.push(e||!1)},g.accept=function(e){switch(e.id){case void 0:case n.BasicDeliver:case n.BasicReturn:case n.BasicProperties:return this.acceptMessageFrame(e);case n.BasicAck:return this.emit("ack",e.fields);case n.BasicNack:return this.emit("nack",e.fields);case n.BasicCancel:return this.emit("cancel",e.fields);case n.ChannelClose:if(this.reply){var t=this.reply;this.reply=null,t(e)}var r="Channel closed by server: "+i(e);this.sendImmediately(n.ChannelCloseOk,{});var o=new Error(r);o.code=e.fields.replyCode,this.emit("error",o);var a=h(r);return void this.toClosed(a);case n.BasicFlow:return this.closeWithError("Flow not implemented",n.constants.NOT_IMPLEMENTED,new Error("Flow not implemented"));default:t=this.reply;if(this.reply=null,this.pending.length>0){var s=this.pending.shift();this.reply=s.reply,this.sendImmediately(s.method,s.fields)}return t(null,e)}},g.onBufferDrain=function(){this.emit("drain")},u(b,p),e.exports.BaseChannel=b,b.prototype.registerConsumer=function(e,t){this.consumers[e]=t},b.prototype.unregisterConsumer=function(e){delete this.consumers[e]},b.prototype.dispatchMessage=function(e,t){var r=e.consumerTag,n=this.consumers[r];if(n)return n(t);throw new Error("Unknown consumer: "+r)},b.prototype.handleDelivery=function(e){return this.dispatchMessage(e.fields,e)},b.prototype.handleCancel=function(e){return this.dispatchMessage(e,null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),i=r.n(n),o=r(19),a=r.n(o),s=r(20),u=r.n(s),c=r(21),l=r.n(c),d=r(22),h=r.n(d),f=r(25),p=r(50);const g=l()();g.use(i.a.urlencoded(h.a.bodyParser)),g.use(i.a.json(h.a.bodyParser)),g.use(u()()),g.use(a()()),Object(f.a)(g),Object(p.a)(g),g.get("/health",(e,t)=>{t.status(200).json("Hello Health Publisher")}),g.listen(h.a.server.port,()=>{console.log(`Server created successfully at port https://${h.a.server.host}:${h.a.server.port}`)}),t.default=g},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("express")},function(e,t,r){const{NODE_ENV:n}=process.env;let i=r(23);"development"===n&&(i=r(24)),e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={server:{host:process.env.SUBSCRIBER_SERVER_HOST||"localhost",port:process.env.SUBSCRIBER_SERVER_PORT||"4000"},bodyParser:{extended:!0,limit:"50mb"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={server:{host:process.env.SUBSCRIBER_SERVER_HOST||"localhost",port:process.env.SUBSCRIBER_SERVER_PORT||"4000"},bodyParser:{extended:!0,limit:"50mb"}}},function(e,t,r){"use strict";var n=r(26);t.a=function(e){const t=new n.a;e.get("/sendMessage",(e,r)=>{t.send(e.query.message),r.status(200).json({message:"Message sent successfully"})})}},function(e,t,r){"use strict";var n=r(27),i=r.n(n);t.a=class{send(e){i.a.connect("amqp://rabbitmq",(t,r)=>{t?console.error(t):r.createChannel((t,r)=>{r.assertQueue("my_channel",{durable:!1}),r.sendToQueue("my_channel",Buffer.from(e)),console.log("[x] Sent message: %s",e)})})}}},function(e,t,r){var n=r(28).connect,i=r(47).CallbackModel;e.exports.connect=function(e,t,r){"function"==typeof e?(r=e,e=!1,t=!1):"function"==typeof t&&(r=t,t=!1),n(e,t,function(e,t){null===e?r(null,new i(t)):r(e)})},e.exports.credentials=r(15),e.exports.IllegalOperationError=r(8).IllegalOperationError},function(e,t,r){"use strict";var n=r(29),i=r(30),o=r(31).Connection,a=r(0).format,s=r(15);function u(e,t){for(var r=Object.keys(e),n=r.length;n--;){var i=r[n];t[i]=e[i]}return t}var c={product:"amqplib",version:r(44).version,platform:a("Node.JS %s",process.version),information:"http://squaremo.github.io/amqp.node",capabilities:{publisher_confirms:!0,exchange_exchange_bindings:!0,"basic.nack":!0,consumer_cancel_notify:!0,"connection.blocked":!0,authentication_failure_close:!0}};function l(e,t,r,n){e=e?i.unescape(e):"/";t=t||{};function o(e,t){return void 0===e?t:parseInt(e)}return{clientProperties:u(n,Object.create(c)),mechanism:r.mechanism,response:r.response(),locale:t.locale||"en_US",channelMax:o(t.channelMax,0),frameMax:o(t.frameMax,4096),heartbeat:o(t.heartbeat,0),virtualHost:e,capabilities:"",insist:0}}function d(e){var t="guest",r="guest";if(e.auth){var n=e.auth.indexOf(":");-1==n?(t=e.auth,r=""):(t=e.auth.substring(0,n),r=e.auth.substring(n+1))}return s.plain(t,r)}e.exports.connect=function(e,t,i){var a=function(e){return u(e,{})}(t||{});e=e||"amqp://localhost";var c,h,f=!!a.noDelay,p=a.timeout,g=!!a.keepAlive,m=a.keepAliveDelay||0,v=a.clientProperties||{};if("object"==typeof e){var w,y;c=(e.protocol||"amqp")+":",a.host=e.hostname,a.port=e.port||("amqp:"===c?5672:5671),void 0==e.username&&void 0==e.password?(w="guest",y="guest"):(w=e.username||"",y=e.password||"");var b={locale:e.locale,channelMax:e.channelMax,frameMax:e.frameMax,heartbeat:e.heartbeat};h=l(e.vhost,b,a.credentials||s.plain(w,y),v)}else{var E=n.parse(e,!0);c=E.protocol,a.host=E.hostname,a.port=parseInt(E.port)||("amqp:"===c?5672:5671);var I=E.pathname?E.pathname.substr(1):null;h=l(I,E.query,a.credentials||d(E),v)}var B,x=!1;function U(){x=!0,B.setNoDelay(f),g&&B.setKeepAlive(g,m);var e=new o(B);e.open(h,function(t,r){p&&B.setTimeout(0),null===t?i(null,e):i(t)})}if("amqp:"===c)B=r(45).connect(a,U);else{if("amqps:"!==c)throw new Error("Expected amqp: or amqps: as the protocol; got "+c);B=r(46).connect(a,U)}p&&B.setTimeout(p,function(){B.end(),B.destroy(),i(new Error("connect ETIMEDOUT"))}),B.once("error",function(e){x||i(e)})},e.exports.credentialsFromUrl=d},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("querystring")},function(e,t,r){"use strict";var n=r(3),i=n.constants,o=r(12),a=o.HEARTBEAT,s=r(34).Mux,u=r(4).Buffer,c=r(9).Duplex||r(35),l=r(7).EventEmitter,d=r(39).Heart,h=r(2).methodName,f=r(2).closeMessage,p=r(2).inspect,g=r(40).BitSet,m=r(0).inherits,v=r(0).format,w=r(9).PassThrough||r(41),y=r(8).IllegalOperationError,b=r(8).stackCapture;function E(e){l.call(this);var t=this.stream=function(e){if(e instanceof c)return e;var t=new c;return t.wrap(e),t._write=function(t,r,n){return e.write(t,r,n)},t}(e);this.muxer=new s(t),this.rest=u.alloc(0),this.frameMax=i.FRAME_MIN_SIZE,this.sentSinceLastCheck=!1,this.recvSinceLastCheck=!1,this.expectSocketClose=!1,this.freeChannels=new g,this.channels=[{channel:{accept:function(e){return function(t){if(t===a);else if(t.id===n.ConnectionClose){e.sendMethod(0,n.ConnectionCloseOk,{});var r=v("Connection closed: %s",f(t)),o=b(r),s=new Error(r);s.code=t.fields.replyCode,M(s)&&e.emit("error",s),e.toClosed(o,s)}else t.id===n.ConnectionBlocked?e.emit("blocked",t.fields.reason):t.id===n.ConnectionUnblocked?e.emit("unblocked"):e.closeWithError(v("Unexpected frame on channel 0"),i.UNEXPECTED_FRAME,new Error(v("Unexpected frame on channel 0: %s",p(t,!1))))}}(this)},buffer:e}]}m(E,l);var I=E.prototype;function B(e){var t=this.channels[e.channel];if(t)return t.channel.accept(e);this.closeWithError(v("Frame on unknown channel %d",e.channel),i.CHANNEL_ERROR,new Error(v("Frame on unknown channel: %s",p(e,!1))))}function x(e,t){return function(){throw new y(e,t)}}function U(e,t,r){e.sendMethod=e.sendContent=e.sendMessage=x(t,r)}I.sendProtocolHeader=function(){this.sendBytes(o.PROTOCOL_HEADER)},I.open=function(e,t){var r=this,i=t||function(){},o=Object.create(e);function a(e){r.step(function(t,r){null!==t?u(t):0!==r.channel?u(new Error(v("Frame on channel != 0 during handshake: %s",p(r,!1)))):e(r)})}function s(e,t){a(function(r){r.id===e?t(r):u(new Error(v("Expected %s; got %s",h(e),p(r,!1))))})}function u(e){i(e)}function c(e){try{r.sendMethod(0,e,o)}catch(e){u(e)}}function l(e,t){return 0===e||0===t?Math.max(e,t):Math.min(e,t)}function d(t){switch(t.id){case n.ConnectionSecure:u(new Error("Wasn't expecting to have to go through secure"));break;case n.ConnectionClose:u(new Error(v("Handshake terminated by server: %s",f(t))));break;case n.ConnectionTune:var r=t.fields;o.frameMax=l(r.frameMax,e.frameMax),o.channelMax=l(r.channelMax,e.channelMax),o.heartbeat=l(r.heartbeat,e.heartbeat),c(n.ConnectionTuneOk),c(n.ConnectionOpen),s(n.ConnectionOpenOk,g);break;default:u(new Error(v("Expected connection.secure, connection.close, or connection.tune during handshake; got %s",p(t,!1))))}}function g(e){r.channelMax=o.channelMax||65535,r.frameMax=o.frameMax||4294967295,r.heartbeat=o.heartbeat,r.heartbeater=r.startHeartbeater(),r.accept=B,function(e){r.stream.removeListener("end",m),r.stream.removeListener("error",m),r.stream.on("error",r.onSocketError.bind(r)),r.stream.on("end",r.onSocketError.bind(r,new Error("Unexpected close"))),r.on("frameError",r.onSocketError.bind(r)),r.acceptLoop(),i(null,e)}(e)}function m(e){u(e||new Error("Socket closed abruptly during opening handshake"))}this.stream.on("end",m),this.stream.on("error",m),this.sendProtocolHeader(),s(n.ConnectionStart,function(t){t.fields.mechanisms.toString().split(" ").indexOf(e.mechanism)<0?u(new Error(v("SASL mechanism %s is not provided by the server",e.mechanism))):(c(n.ConnectionStartOk),a(d))})},I.close=function(e){var t=e&&function(){e(null)};this.closeBecause("Cheers, thanks",i.REPLY_SUCCESS,t)},I.closeBecause=function(e,t,r){this.sendMethod(0,n.ConnectionClose,{replyText:e,replyCode:t,methodId:0,classId:0});var i=b("closeBecause called: "+e);this.toClosing(i,r)},I.closeWithError=function(e,t,r){this.emit("error",r),this.closeBecause(e,t)},I.onSocketError=function(e){if(!this.expectSocketClose){this.expectSocketClose=!0,this.emit("error",e);var t=b("Socket error");this.toClosed(t,e)}},I.toClosing=function(e,t){var r=this.sendMethod.bind(this);this.accept=function(e){if(e.id===n.ConnectionCloseOk){t&&t();var i=b("ConnectionCloseOk received");this.toClosed(i,void 0)}else e.id===n.ConnectionClose&&r(0,n.ConnectionCloseOk,{})},U(this,"Connection closing",e)},I._closeChannels=function(e){for(var t=1;t<this.channels.length;t++){var r=this.channels[t];null!==r&&r.channel.toClosed(e)}},I.toClosed=function(e,t){this._closeChannels(e);var r=v("Connection closed (%s)",t?t.toString():"by client");U(this,r,e),this.accept=x(r,e),this.close=function(t){t&&t(new y(r,e))},this.heartbeater&&this.heartbeater.clear(),this.expectSocketClose=!0,this.stream.end(),this.emit("close",t)},I.startHeartbeater=function(){if(0===this.heartbeat)return null;var e=this,t=new d(this.heartbeat,this.checkSend.bind(this),this.checkRecv.bind(this));return t.on("timeout",function(){var t=new Error("Heartbeat timeout");e.emit("error",t);var r=b("Heartbeat timeout");e.toClosed(r,t)}),t.on("beat",function(){e.sendHeartbeat()}),t},I.freshChannel=function(e,t){var r=this.freeChannels.nextClearBit(1);if(r<0||r>this.channelMax)throw new Error("No channels left to allocate");this.freeChannels.set(r);var n=t&&t.highWaterMark||1024,i=new w({objectMode:!0,highWaterMark:n});return this.channels[r]={channel:e,buffer:i},i.on("drain",function(){e.onBufferDrain()}),this.muxer.pipeFrom(i),r},I.releaseChannel=function(e){this.freeChannels.clear(e);var t=this.channels[e].buffer;this.muxer.unpipeFrom(t),this.channels[e]=null},I.acceptLoop=function(){var e=this;function t(){try{for(var t;t=e.recvFrame();)e.accept(t)}catch(t){e.emit("frameError",t)}}e.stream.on("readable",t),t()},I.step=function(e){var t=this;!function r(){var n;try{n=t.recvFrame()}catch(t){return void e(t,null)}n?e(null,n):t.stream.once("readable",r)}()},I.checkSend=function(){var e=this.sentSinceLastCheck;return this.sentSinceLastCheck=!1,e},I.checkRecv=function(){var e=this.recvSinceLastCheck;return this.recvSinceLastCheck=!1,e},I.sendBytes=function(e){this.sentSinceLastCheck=!0,this.stream.write(e)},I.sendHeartbeat=function(){return this.sendBytes(o.HEARTBEAT_BUF)};var k=n.encodeMethod,C=n.encodeProperties;I.sendMethod=function(e,t,r){var n=k(t,e,r);return this.sentSinceLastCheck=!0,this.channels[e].buffer.write(n)},I.sendMessage=function(e,t,r,n,i,o){if(!u.isBuffer(o))throw new TypeError("content is not a buffer");var a=k(t,e,r),s=C(n,e,o.length,i),c=this.channels[e].buffer;this.sentSinceLastCheck=!0;var l=a.length+s.length,d=o.length>0?o.length+T:0,h=l+d;if(h<2048){var f=u.alloc(h),p=a.copy(f,0);return p+=s.copy(f,p),d>0&&S(e,o).copy(f,p),c.write(f)}if(l<2048){var g=u.alloc(l);p=a.copy(g,0);s.copy(g,p),c.write(g)}else c.write(a),c.write(s);return this.sendContent(e,o)};var T=n.FRAME_OVERHEAD,S=o.makeBodyFrame;I.sendContent=function(e,t){if(!u.isBuffer(t))throw new TypeError(v("Expected buffer; got %s",t));for(var r=!0,n=this.channels[e].buffer,i=this.frameMax-T,o=0;o<t.length;o+=i){var a=o+i,s=a>t.length?t.slice(o):t.slice(o,a),c=S(e,s);r=n.write(c)}return this.sentSinceLastCheck=!0,r};var N=o.parseFrame,O=o.decodeFrame;function M(e){switch(e&&e.code){case n.constants.CONNECTION_FORCED:case n.constants.REPLY_SUCCESS:return!1;default:return!0}}I.recvFrame=function(){var e=N(this.rest,this.frameMax);if(e)return this.rest=e.rest,O(e);var t=this.stream.read();return null!==t&&(this.recvSinceLastCheck=!0,this.rest=u.concat([this.rest,t]),this.recvFrame())},e.exports.Connection=E,e.exports.isFatalError=M},function(e,t,r){"use strict";var n=r(11);function i(e,t,r){var n=r;for(var i in r+=4,t)if(void 0!==t[i]){var a=Buffer.byteLength(i);e.writeUInt8(a,r),r++,e.write(i,r,"utf8"),r+=a,r+=o(e,t[i],r)}var s=r-n;return e.writeUInt32BE(s-4,n),s}function o(e,t,r){var a=r,s=typeof t,u=t;function c(t){e.write(t,r),r++}switch(t&&"object"===s&&t.hasOwnProperty("!")&&(u=t.value,s=t["!"]),"number"==s&&(s=function(e){return e>=0x8000000000000000||Math.abs(e)<0x4000000000000&&Math.floor(e)!==e}(u)?"double":u<128&&u>=-128?"byte":u>=-32768&&u<32768?"short":u>=-2147483648&&u<2147483648?"int":"long"),s){case"string":var l=Buffer.byteLength(u,"utf8");c("S"),e.writeUInt32BE(l,r),r+=4,e.write(u,r,"utf8"),r+=l;break;case"object":null===u?c("V"):Array.isArray(u)?(c("A"),r+=function(e,t,r){var n=r;r+=4;for(var i=0,a=t.length;i<a;i++)r+=o(e,t[i],r);var s=r-n;return e.writeUInt32BE(s-4,n),s}(e,u,r)):Buffer.isBuffer(u)?(c("x"),e.writeUInt32BE(u.length,r),r+=4,u.copy(e,r),r+=u.length):(c("F"),r+=i(e,u,r));break;case"boolean":c("t"),e.writeUInt8(u?1:0,r),r++;break;case"double":case"float64":c("d"),e.writeDoubleBE(u,r),r+=8;break;case"byte":case"int8":c("b"),e.writeInt8(u,r),r++;break;case"short":case"int16":c("s"),e.writeInt16BE(u,r),r+=2;break;case"int":case"int32":c("I"),e.writeInt32BE(u,r),r+=4;break;case"long":case"int64":c("l"),n.writeInt64BE(e,u,r),r+=8;break;case"timestamp":c("T"),n.writeUInt64BE(e,u,r),r+=8;break;case"float":c("f"),e.writeFloatBE(u,r),r+=4;break;case"decimal":if(c("D"),!(u.hasOwnProperty("places")&&u.hasOwnProperty("digits")&&u.places>=0&&u.places<256))throw new TypeError("Decimal value must be {'places': 0..255, 'digits': uint32}, got "+JSON.stringify(u));e[r]=u.places,r++,e.writeUInt32BE(u.digits,r),r+=4;break;default:throw new TypeError("Unknown type to encode: "+s)}return r-a}e.exports.encodeTable=i,e.exports.decodeFields=function e(t){var r,i,o,a={},s=0,u=t.length;function c(){var i=String.fromCharCode(t[s]);switch(s++,i){case"b":o=t.readInt8(s),s++;break;case"S":r=t.readUInt32BE(s),s+=4,o=t.toString("utf8",s,s+r),s+=r;break;case"I":o=t.readInt32BE(s),s+=4;break;case"D":var a=t[s];s++;var u=t.readUInt32BE(s);s+=4,o={"!":"decimal",value:{places:a,digits:u}};break;case"T":o=n.readUInt64BE(t,s),s+=8,o={"!":"timestamp",value:o};break;case"F":r=t.readUInt32BE(s),s+=4,o=e(t.slice(s,s+r)),s+=r;break;case"A":r=t.readUInt32BE(s),function(e){for(var t=[];s<e;)c(),t.push(o);o=t}((s+=4)+r);break;case"d":o=t.readDoubleBE(s),s+=8;break;case"f":o=t.readFloatBE(s),s+=4;break;case"l":o=n.readInt64BE(t,s),s+=8;break;case"s":o=t.readInt16BE(s),s+=2;break;case"t":o=0!=t[s],s++;break;case"V":o=null;break;case"x":r=t.readUInt32BE(s),s+=4,o=t.slice(s,s+r),s+=r;break;default:throw new TypeError('Unexpected type tag "'+i+'"')}}for(;s<u;)r=t.readUInt8(s),s++,i=t.toString("utf8",s,s+r),s+=r,c(),a[i]=o;return a}},function(e,t){e.exports=require("bitsyntax")},function(e,t,r){"use strict";r(0).inherits;var n=r(13),i="function"==typeof setImmediate?setImmediate:process.nextTick;function o(e){this.newStreams=[],this.oldStreams=[],this.blocked=!1,this.scheduledRead=!1,this.out=e;var t=this;e.on("drain",function(){t.blocked=!1,t._readIncoming()})}o.prototype._readIncoming=function(){if(!this.blocked){var e=!0,t=this.out;r(this.newStreams),e?(n.equal(0,this.newStreams.length),r(this.oldStreams)):(n(this.newStreams.length>0,"Expect some new streams to remain"),this.oldStreams=this.oldStreams.concat(this.newStreams),this.newStreams=[]),this.blocked=!e}function r(r){var n;if(1===r.length){for(n=r.shift();e;){if(null===(i=n.read()))break;e=t.write(i)}e||r.push(n)}else for(;e&&(n=r.shift());){var i;null!==(i=n.read())&&(e=t.write(i),r.push(n))}}},o.prototype._scheduleRead=function(){var e=this;e.scheduledRead||(i(function(){e.scheduledRead=!1,e._readIncoming()}),e.scheduledRead=!0)},o.prototype.pipeFrom=function(e){var t=this;function r(){t.newStreams.push(e),t._scheduleRead()}function n(){e.removeListener("readable",r),e.removeListener("error",n),e.removeListener("end",n),e.removeListener("unpipeFrom",i)}function i(e){e===t&&n()}e.on("unpipeFrom",i),e.on("end",n),e.on("error",n),e.on("readable",r)},o.prototype.unpipeFrom=function(e){e.emit("unpipeFrom",this)},e.exports.Mux=o},function(e,t,r){e.exports=r(1)},function(e,t,r){e.exports=d;var n=r(37),i=r(10).Buffer;d.ReadableState=l;var o=r(7).EventEmitter;o.listenerCount||(o.listenerCount=function(e,t){return e.listeners(t).length});var a,s=r(9),u=r(5);u.inherits=r(6);var c=r(0);function l(e,t){var n=r(1),i=(e=e||{}).highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=r(14).StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function d(e){r(1);if(!(this instanceof d))return new d(e);this._readableState=new l(e,this),this.readable=!0,s.call(this)}function h(e,t,r,n,i){var o=function(e,t){var r=null;u.isBuffer(t)||u.isString(t)||u.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(o)e.emit("error",o);else if(u.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,g(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||n||(r=t.decoder.write(r)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&g(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)}))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}c=c&&c.debuglog?c.debuglog("stream"):function(){},u.inherits(d,s),d.prototype.push=function(e,t){var r=this._readableState;return u.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new i(e,t),t=""),h(this,r,e,t,!1)},d.prototype.unshift=function(e){return h(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){return a||(a=r(14).StringDecoder),this._readableState.decoder=new a(e),this._readableState.encoding=e,this};var f=8388608;function p(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||u.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=f)e=f;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){m(e)}):m(e))}function m(e){c("emit readable"),e.emit("readable"),v(e)}function v(e){var t=e._readableState;if(c("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function w(e,t){var r,n=t.buffer,o=t.length,a=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===o)r=null;else if(s)r=n.shift();else if(!e||e>=o)r=a?n.join(""):i.concat(n,o),n.length=0;else{if(e<n[0].length)r=(d=n[0]).slice(0,e),n[0]=d.slice(e);else if(e===n[0].length)r=n.shift();else{r=a?"":new i(e);for(var u=0,c=0,l=n.length;c<l&&u<e;c++){var d=n[0],h=Math.min(e-u,d.length);a?r+=d.slice(0,h):d.copy(r,u,0,h),h<d.length?n[0]=d.slice(h):n.shift(),u+=h}}}return r}function y(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}d.prototype.read=function(e){c("read",e);var t=this._readableState,r=e;if((!u.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&y(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),(t.ended||t.reading)&&c("reading or ended",i=!1),i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=p(r,t)),n=e>0?w(e,t):null,u.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&y(this),u.isNull(n)||this.emit("data",n),n},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:d;function s(e){c("onunpipe"),e===r&&d()}function u(){c("onend"),e.end()}i.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o.listenerCount(e,"data")&&(t.flowing=!0,v(e))}}(r);function d(){c("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",d),r.removeListener("data",h),!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l()}function h(t){c("ondata"),!1===e.write(t)&&(c("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===o.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),m()}function g(){c("onfinish"),e.removeListener("close",p),m()}function m(){c("unpipe"),r.unpipe(e)}return e.on("drain",l),r.on("data",h),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(f):e._events.error=[f,e._events.error]:e.on("error",f),e.once("close",p),e.once("finish",g),e.emit("pipe",r),i.flowing||(c("pipe resume"),r.resume()),e},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}return-1===(i=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},d.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&g(this);else{var i=this;process.nextTick(function(){c("readable nexttick read 0"),i.read(0)})}}return r},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,e.reading||(c("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),v(e),t.flowing&&!t.reading&&e.read(0)}(e,t)}))}(this,e)),this},d.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},d.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(c("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){(c("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length))&&(n.push(i)||(r=!0,e.pause()))}),e)u.isFunction(e[i])&&u.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},n},d._fromList=w},function(e,t){e.exports=require("isarray")},function(e,t,r){e.exports=s;var n=r(10).Buffer;s.WritableState=a;var i=r(5);i.inherits=r(6);var o=r(9);function a(e,t){var n=r(1),i=(e=e||{}).highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){r?process.nextTick(function(){t.pendingcb--,i(n)}):(t.pendingcb--,i(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=d(e,r);o||r.corked||r.bufferProcessing||!r.buffer.length||l(e,r),n?process.nextTick(function(){c(e,r,o,i)}):c(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function s(e){var t=r(1);if(!(this instanceof s||this instanceof t))return new s(e);this._writableState=new a(e,this),this.writable=!0,o.call(this)}function u(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function c(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),f(e,t)}function l(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,u(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)}),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var i=t.buffer[n],o=i.chunk,a=i.encoding,s=i.callback,c=t.objectMode?1:o.length;if(u(e,t,!1,c,o,a,s),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function d(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function h(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function f(e,t){var r=d(0,t);return r&&(0===t.pendingcb?(h(e,t),t.finished=!0,e.emit("finish")):h(e,t)),r}i.inherits(s,o),s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,r){var o=this._writableState,a=!1;return i.isFunction(t)&&(r=t,t=null),i.isBuffer(e)?t="buffer":t||(t=o.defaultEncoding),i.isFunction(r)||(r=function(){}),o.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){r(n)})}(this,0,r):function(e,t,r,n){var o=!0;if(!(i.isBuffer(r)||i.isString(r)||i.isNullOrUndefined(r)||t.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),process.nextTick(function(){n(a)}),o=!1}return o}(this,o,e,r)&&(o.pendingcb++,a=function(e,t,r,o,a){r=function(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&i.isString(t)&&(t=new n(t,r)),t}(t,r,o),i.isBuffer(r)&&(o="buffer");var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new function(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}(r,o,a)):u(e,t,!1,s,r,o,a);return c}(this,o,e,t,r)),a},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||l(this,e))},s.prototype._write=function(e,t,r){r(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,r){var n=this._writableState;i.isFunction(e)?(r=e,e=null,t=null):i.isFunction(t)&&(r=t,t=null),i.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,f(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){"use strict";var n=r(0).inherits,i=r(7).EventEmitter;function o(t,r,n){i.call(this),this.interval=t;var o=t*e.exports.UNITS_TO_MS,a=this.emit.bind(this,"beat"),s=this.emit.bind(this,"timeout");this.sendTimer=setInterval(this.runHeartbeat.bind(this,r,a),o/2);var u=0;this.recvTimer=setInterval(this.runHeartbeat.bind(this,function(){return n()?(u=0,!0):++u<2},s),o)}e.exports.UNITS_TO_MS=1e3,n(o,i),e.exports.Heart=o,o.prototype.clear=function(){clearInterval(this.sendTimer),clearInterval(this.recvTimer)},o.prototype.runHeartbeat=function(e,t){e()||t()}},function(e,t,r){"use strict";function n(e){if(e){var t=Math.ceil(e/32);this.words=new Array(t)}else this.words=[];this.wordsInUse=0}var i=n.prototype;function o(e){return Math.floor(e/32)}function a(e){if(0===e)return 32;var t,r=31;return 0!=(t=e<<16)&&(r-=16,e=t),0!=(t=e<<8)&&(r-=8,e=t),0!=(t=e<<4)&&(r-=4,e=t),0!=(t=e<<2)&&(r-=2,e=t),r-(e<<1>>>31)}i.ensureSize=function(e){var t=this.words.length;t<e&&(this.words=this.words.concat(new Array(e-t)))},i.set=function(e){var t=o(e);t>=this.wordsInUse&&(this.ensureSize(t+1),this.wordsInUse=t+1);var r=1<<e;this.words[t]|=r},i.clear=function(e){var t=o(e);if(!(t>=this.wordsInUse)){var r=~(1<<e);this.words[t]&=r}},i.get=function(e){var t=o(e);if(t>=this.wordsInUse)return!1;var r=1<<e;return!!(this.words[t]&r)},i.nextSetBit=function(e){var t=o(e);if(t>=this.wordsInUse)return-1;for(var r=this.words[t]&4294967295<<e;;){if(r)return 32*t+a(r);if(++t===this.wordsInUse)return-1;r=this.words[t]}},i.nextClearBit=function(e){var t=o(e);if(t>=this.wordsInUse)return e;for(var r=~this.words[t]&4294967295<<e;;){if(r)return 32*t+a(r);if(++t==this.wordsInUse)return 32*t;r=~this.words[t]}},e.exports.BitSet=n},function(e,t,r){e.exports=r(42)},function(e,t,r){e.exports=o;var n=r(43),i=r(5);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(6),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=a;var n=r(1),i=r(5);function o(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var o=n.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,i.isNullOrUndefined(r)||e.push(r);o&&o(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState=new o(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){i.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}i.inherits=r(6),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;i.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t){e.exports={_from:"amqplib@^0.5.2",_id:"amqplib@0.5.2",_inBundle:!1,_integrity:"sha512-l9mCs6LbydtHqRniRwYkKdqxVa6XMz3Vw1fh+2gJaaVgTM6Jk3o8RccAKWKtlhT1US5sWrFh+KKxsVUALURSIA==",_location:"/amqplib",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"amqplib@^0.5.2",name:"amqplib",escapedName:"amqplib",rawSpec:"^0.5.2",saveSpec:null,fetchSpec:"^0.5.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/amqplib/-/amqplib-0.5.2.tgz",_shasum:"d2d7313c7ffaa4d10bcf1e6252de4591b6cc7b63",_spec:"amqplib@^0.5.2",_where:"/Users/juanrivillas/workspace/personal/node_microservices/services/publisher_service",author:{name:"Michael Bridgen",email:"mikeb@squaremobius.net"},bugs:{url:"https://github.com/squaremo/amqp.node/issues"},bundleDependencies:!1,dependencies:{bitsyntax:"~0.0.4",bluebird:"^3.4.6","buffer-more-ints":"0.0.2","readable-stream":"1.x >=1.1.9","safe-buffer":"^5.0.1"},deprecated:!1,description:"An AMQP 0-9-1 (e.g., RabbitMQ) library and client.",devDependencies:{claire:"0.4.1",istanbul:"0.1.x",mocha:"~1","uglify-js":"2.4.x"},engines:{node:">=0.8 <=9"},homepage:"http://squaremo.github.io/amqp.node/",keywords:["AMQP","AMQP 0-9-1","RabbitMQ"],license:"MIT",main:"./channel_api.js",name:"amqplib",repository:{type:"git",url:"git+https://github.com/squaremo/amqp.node.git"},scripts:{prepublish:"make",test:"make test"},version:"0.5.2",warnings:[{code:"ENOTSUP",required:{node:">=0.8 <=9"},pkgid:"amqplib@0.5.2"}]}},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t,r){"use strict";var n=r(3),i=r(48),o=r(0).inherits,a=r(7).EventEmitter,s=r(16).BaseChannel,u=r(16).acceptMessage,c=r(49);function l(e){if(!(this instanceof l))return new l(e);a.call(this),this.connection=e;var t=this;["error","close","blocked","unblocked"].forEach(function(r){e.on(r,t.emit.bind(t,r))})}function d(e){s.call(this,e),this.on("delivery",this.handleDelivery.bind(this)),this.on("cancel",this.handleCancel.bind(this))}function h(e,t){return t?function(e,r){null===e?t(null,r):t(e)}:function(){}}function f(e){d.call(this,e)}o(l,a),e.exports.CallbackModel=l,l.prototype.close=function(e){this.connection.close(e)},o(d,s),e.exports.Channel=d,l.prototype.createChannel=function(e){var t=new d(this.connection);return t.open(function(r,n){null===r?e&&e(null,t):e&&e(r)}),t},d.prototype.rpc=function(e,t,r,n){var i=h(0,n);return this._rpc(e,t,r,function(e,t){i(e,t&&t.fields)}),this},d.prototype.open=function(e){try{this.allocate()}catch(t){return e(t)}return this.rpc(n.ChannelOpen,{outOfBand:""},n.ChannelOpenOk,e)},d.prototype.close=function(e){return this.closeBecause("Goodbye",n.constants.REPLY_SUCCESS,function(){e&&e(null)})},d.prototype.assertQueue=function(e,t,r){return this.rpc(n.QueueDeclare,c.assertQueue(e,t),n.QueueDeclareOk,r)},d.prototype.checkQueue=function(e,t){return this.rpc(n.QueueDeclare,c.checkQueue(e),n.QueueDeclareOk,t)},d.prototype.deleteQueue=function(e,t,r){return this.rpc(n.QueueDelete,c.deleteQueue(e,t),n.QueueDeleteOk,r)},d.prototype.purgeQueue=function(e,t){return this.rpc(n.QueuePurge,c.purgeQueue(e),n.QueuePurgeOk,t)},d.prototype.bindQueue=function(e,t,r,i,o){return this.rpc(n.QueueBind,c.bindQueue(e,t,r,i),n.QueueBindOk,o)},d.prototype.unbindQueue=function(e,t,r,i,o){return this.rpc(n.QueueUnbind,c.unbindQueue(e,t,r,i),n.QueueUnbindOk,o)},d.prototype.assertExchange=function(e,t,r,i){var o=h(0,i);return this._rpc(n.ExchangeDeclare,c.assertExchange(e,t,r),n.ExchangeDeclareOk,function(t,r){o(t,{exchange:e})}),this},d.prototype.checkExchange=function(e,t){return this.rpc(n.ExchangeDeclare,c.checkExchange(e),n.ExchangeDeclareOk,t)},d.prototype.deleteExchange=function(e,t,r){return this.rpc(n.ExchangeDelete,c.deleteExchange(e,t),n.ExchangeDeleteOk,r)},d.prototype.bindExchange=function(e,t,r,i,o){return this.rpc(n.ExchangeBind,c.bindExchange(e,t,r,i),n.ExchangeBindOk,o)},d.prototype.unbindExchange=function(e,t,r,i,o){return this.rpc(n.ExchangeUnbind,c.unbindExchange(e,t,r,i),n.ExchangeUnbindOk,o)},d.prototype.publish=function(e,t,r,n){var i=c.publish(e,t,n);return this.sendMessage(i,i,r)},d.prototype.sendToQueue=function(e,t,r){return this.publish("",e,t,r)},d.prototype.consume=function(e,t,r,i){var o=h(0,i),a=c.consume(e,r),s=this;return this._rpc(n.BasicConsume,a,n.BasicConsumeOk,function(e,r){null===e?(s.registerConsumer(r.fields.consumerTag,t),o(null,r.fields)):o(e)}),this},d.prototype.cancel=function(e,t){var r=h(0,t),i=this;return this._rpc(n.BasicCancel,c.cancel(e),n.BasicCancelOk,function(t,n){null===t?(i.unregisterConsumer(e),r(null,n.fields)):r(t)}),this},d.prototype.get=function(e,t,r){var i=this,o=c.get(e,t),a=h(0,r);return this.sendOrEnqueue(n.BasicGet,o,function(e,t){null===e&&(t.id===n.BasicGetEmpty?a(null,!1):t.id===n.BasicGetOk?i.handleMessage=u(function(e){e.fields=t.fields,a(null,e)}):a(new Error("Unexpected response to BasicGet: "+inspect(t))))}),this},d.prototype.ack=function(e,t){return this.sendImmediately(n.BasicAck,c.ack(e.fields.deliveryTag,t)),this},d.prototype.ackAll=function(){return this.sendImmediately(n.BasicAck,c.ack(0,!0)),this},d.prototype.nack=function(e,t,r){return this.sendImmediately(n.BasicNack,c.nack(e.fields.deliveryTag,t,r)),this},d.prototype.nackAll=function(e){return this.sendImmediately(n.BasicNack,c.nack(0,!0,e)),this},d.prototype.reject=function(e,t){return this.sendImmediately(n.BasicReject,c.reject(e.fields.deliveryTag,t)),this},d.prototype.prefetch=function(e,t,r){return this.rpc(n.BasicQos,c.prefetch(e,t),n.BasicQosOk,r)},d.prototype.recover=function(e){return this.rpc(n.BasicRecover,c.recover(),n.BasicRecoverOk,e)},o(f,d),e.exports.ConfirmChannel=f,l.prototype.createConfirmChannel=function(e){var t=new f(this.connection);return t.open(function(r){if(null!==r)return e&&e(r);t.rpc(n.ConfirmSelect,{nowait:!1},n.ConfirmSelectOk,function(r,n){if(null!==r)return e&&e(r);e&&e(null,t)})}),t},f.prototype.publish=function(e,t,r,n,i){return this.pushConfirmCallback(i),d.prototype.publish.call(this,e,t,r,n)},f.prototype.sendToQueue=function(e,t,r,n){return this.publish("",e,t,r,n)},f.prototype.waitForConfirms=function(e){var t=[],r=this.unconfirmed;return r.forEach(function(e,n){if(null===e);else{var o=new i(function(t,i){r[n]=function(r){e&&e(r),null===r?t():i(r)}});t.push(o)}}),i.all(t).then(function(){e()},function(t){e(t)})}},function(e,t){e.exports=require("bluebird")},function(e,t,r){"use strict";function n(e,t,r){void 0!=r&&(e[t]=r)}var i=Object.freeze({}),o={assertQueue:function(e,t){e=e||"",t=t||i;var r=Object.create(t.arguments||null);return n(r,"x-expires",t.expires),n(r,"x-message-ttl",t.messageTtl),n(r,"x-dead-letter-exchange",t.deadLetterExchange),n(r,"x-dead-letter-routing-key",t.deadLetterRoutingKey),n(r,"x-max-length",t.maxLength),n(r,"x-max-priority",t.maxPriority),{queue:e,exclusive:!!t.exclusive,durable:void 0===t.durable||t.durable,autoDelete:!!t.autoDelete,arguments:r,passive:!1,ticket:0,nowait:!1}},checkQueue:function(e){return{queue:e,passive:!0,nowait:!1,durable:!0,autoDelete:!1,exclusive:!1,ticket:0}},deleteQueue:function(e,t){return{queue:e,ifUnused:!!(t=t||i).ifUnused,ifEmpty:!!t.ifEmpty,ticket:0,nowait:!1}},purgeQueue:function(e){return{queue:e,ticket:0,nowait:!1}},bindQueue:function(e,t,r,n){return{queue:e,exchange:t,routingKey:r,arguments:n,ticket:0,nowait:!1}},unbindQueue:function(e,t,r,n){return{queue:e,exchange:t,routingKey:r,arguments:n,ticket:0,nowait:!1}},assertExchange:function(e,t,r){r=r||i;var o=Object.create(r.arguments||null);return n(o,"alternate-exchange",r.alternateExchange),{exchange:e,ticket:0,type:t,passive:!1,durable:void 0===r.durable||r.durable,autoDelete:!!r.autoDelete,internal:!!r.internal,nowait:!1,arguments:o}},checkExchange:function(e){return{exchange:e,passive:!0,nowait:!1,durable:!0,internal:!1,type:"",autoDelete:!1,ticket:0}},deleteExchange:function(e,t){return{exchange:e,ifUnused:!!(t=t||i).ifUnused,ticket:0,nowait:!1}},bindExchange:function(e,t,r,n){return{source:t,destination:e,routingKey:r,arguments:n,ticket:0,nowait:!1}},unbindExchange:function(e,t,r,n){return{source:t,destination:e,routingKey:r,arguments:n,ticket:0,nowait:!1}},publish:function(e,t,r){function o(e){return void 0===e?void 0:Array.isArray(e)?e.map(String):[String(e)]}r=r||i;var a,s=Object.create(r.headers||null);n(s,"CC",o(r.CC)),n(s,"BCC",o(r.BCC)),void 0!==r.persistent?a=r.persistent?2:1:"number"==typeof r.deliveryMode?a=r.deliveryMode:r.deliveryMode&&(a=2);var u=r.expiration;return void 0!==u&&(u=u.toString()),{exchange:e,routingKey:t,mandatory:!!r.mandatory,immediate:!1,ticket:void 0,contentType:r.contentType,contentEncoding:r.contentEncoding,headers:s,deliveryMode:a,priority:r.priority,correlationId:r.correlationId,replyTo:r.replyTo,expiration:u,messageId:r.messageId,timestamp:r.timestamp,type:r.type,userId:r.userId,appId:r.appId,clusterId:void 0}},consume:function(e,t){t=t||i;var r=Object.create(t.arguments||null);return n(r,"x-priority",t.priority),{ticket:0,queue:e,consumerTag:t.consumerTag||"",noLocal:!!t.noLocal,noAck:!!t.noAck,exclusive:!!t.exclusive,nowait:!1,arguments:r}},cancel:function(e){return{consumerTag:e,nowait:!1}},get:function(e,t){return{ticket:0,queue:e,noAck:!!(t=t||i).noAck}},ack:function(e,t){return{deliveryTag:e,multiple:!!t}},nack:function(e,t,r){return{deliveryTag:e,multiple:!!t,requeue:void 0===r||r}},reject:function(e,t){return{deliveryTag:e,requeue:void 0===t||t}},prefetch:function(e,t){return{prefetchCount:e||0,prefetchSize:0,global:!!t}},recover:function(){return{requeue:!0}}};e.exports=Object.freeze(o)},function(e,t,r){"use strict";t.a=function(e){e.get("/health",(e,t)=>{t.status(200).json("Hello Health Publisher")})}}]);